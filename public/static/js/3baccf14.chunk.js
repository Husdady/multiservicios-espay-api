"use strict";(self.webpackChunkemprendimiento_y_salud_api=self.webpackChunkemprendimiento_y_salud_api||[]).push([[619],{1835:(e,t,n)=>{n.d(t,{Z:()=>y});t=n(5666);var r=n.n(t),a=(t=n(9669),n.n(t)),o=n(8253),i=n(4352),c=(t=n(2053),n(2457));function l(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,c,"next",e)}function c(e){l(o,r,a,i,c,"throw",e)}i(void 0)}))}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d,p,f=(0,t.Z)().store;function m(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m)}const y=(d=m,p=[{key:"createAdmin",value:function(e,t){return u(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a()({method:"POST",url:"".concat(i.T,"/api/auth/admin/signup"),headers:{"Content-Type":"application/json",Accept:"application/json",SECRET_PASSWORD:i.P},data:e});case 3:return n.next=5,o.ZP.success("Se ha creado correctamente la cuenta!");case 5:o.ZP.loading("Redirigiendo...",t),n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),o.ZP.error(n.t0.response.data.error),n.abrupt("return",null);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},{key:"createUser",value:function(e){return u(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a()({method:"POST",url:"".concat(i.T,"/api/auth/user/signup"),headers:{"Content-Type":"application/json",Accept:"application/json"},data:e});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),o.ZP.error(t.t0.response.data.error),t.abrupt("return",null);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}},{key:"verifyToken",value:function(e){return u(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a()({url:"".concat(i.T,"/api/auth/verifyToken"),headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)}});case 3:n=t.sent,console.log(n),t.next=25;break;case 7:t.prev=7,t.t0=t.catch(0),n=t.t0.response.data.token,t.t1=n.type,t.next="TokenExpiredError"===t.t1?13:"JsonWebTokenError"===t.t1?16:19;break;case 13:return t.next=15,o.ZP.warning("Tu sesión ha expirado. Debes de volver a iniciar sesión",4);case 15:case 18:case 19:return t.abrupt("break",20);case 16:return t.next=18,o.ZP.error("Ha ocurrido un error con tu inicio de sesión",4);case 20:return t.next=22,o.ZP.loading("Redirigiendo al Login...",2);case 22:return f.dispatch({type:c.dp}),window.location="/auth?login=true",t.abrupt("return",null);case 25:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}],null&&s(d.prototype,null),p&&s(d,p),m)},3726:(e,t,n)=>{n.d(t,{Z:()=>I});var r=n(7294),a=n(1760),o=n(8453),i=n(7969),c=n(8216),l=(t=n(5977),n(7814)),u=n(2457),s=n(7294);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,h,b=[{style:{backgroundColor:"rgba(255,255,255, .05)",padding:"25px 20px"},avatar:s.createElement(o.C,{src:"https://joeschmoe.io/api/v1/random",size:"large"}),icon:{name:"cog",color:"var(--bg-gray)"},title:"Imanol Enrique",description:"husdadymena@gmail.com"}],g=[{headerTitle:"Usuarios",icon:"users",title:"Administrar usuarios",path:"/dashboard/users"},{icon:"user-tag",title:"Administrar roles"},{icon:"user-injured",title:"Administrar testimonios"},{headerTitle:"Productos",icon:"apple-alt",title:"Administrar productos Omnilife"},{icon:"shopping-bag",title:"Administrar productos Seytú"},{headerTitle:"Afiliación",icon:"portrait",title:"Afiliar cliente"},{icon:"user-tie",title:"Afiliar empresario"},{headerTitle:"Contacto",icon:"id-card-alt",title:"Administrar información de Contacto"}];(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)})(v,r.Component),y=v,(h=[{key:"navigateTo",value:function(e){console.log(this.props),this.props.history.push(e)}},{key:"signOut",value:function(){this.props.signOut()}},{key:"render",value:function(){var e=this;return s.createElement("div",{id:"menu-left"},s.createElement(i.ZP,{className:"wrapper-list",itemLayout:"horizontal",dataSource:b,renderItem:function(e){return s.createElement(i.ZP.Item,{style:e.style},s.createElement(i.ZP.Item.Meta,{avatar:e.avatar,title:e.title,description:e.description}),s.createElement(l.G,{icon:e.icon.name,color:e.icon.color,className:"pointer"}))}}),s.createElement(i.ZP,{className:"wrapper-list scroller",itemLayout:"horizontal",dataSource:g,bordered:!1,renderItem:function(t){return s.createElement(r.Fragment,null,t.headerTitle&&s.createElement("h5",{className:"header-title"},t.headerTitle),s.createElement(i.ZP.Item,{className:"item pointer",onClick:function(){return e.navigateTo(t.path)}},s.createElement(i.ZP.Item.Meta,{avatar:s.createElement(l.G,{icon:t.icon,color:"var(--bg-gray)",size:"lg"}),title:t.title,description:t.description}),s.createElement(l.G,{icon:"angle-right",color:"var(--bg-gray)",className:"pointer"})))}}),s.createElement(a.zx,{attributes:{onClick:this.signOut,className:"sign-out pointer border-none"},title:"Cerrar sesión",icon:{name:"sign-out-alt"}}),s.createElement("span",{id:"author"},"Powered by @Husdady ",(new Date).getFullYear()))}}])&&p(y.prototype,h),o=v;function v(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),this,(e=!(e=f(v).call(this,e))||"object"!==function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e)&&"function"!=typeof e?d(this):e).signOut=e.signOut.bind(d(e)),e.navigateTo=e.navigateTo.bind(d(e)),e}const E=(0,c.$j)(null,(function(e){return{signOut:function(){e({type:u.dp})}}}))((0,t.EN)(o));var w=n(1835),k=n(7294);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j,A,_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),P(this,x(C).apply(this,arguments))}const I=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(C,r.Component),j=C,(A=[{key:"componentDidMount",value:function(){w.Z.verifyToken("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxOTQ3NzZmMDM1MDI4N2EwOGVkYWZlZiIsImlhdCI6MTYzNzEyOTc5MSwiZXhwIjoxNjM3Mzg4OTkxfQ.yO5W0h0BvUJViQLzvETAQ3UXhP-9c0NNXnfJcj3wH34")}},{key:"render",value:function(){return k.createElement("div",{id:"dashboard"},k.createElement(E,null),k.createElement("div",{id:"box"},this.props.children))}}])&&O(j.prototype,A),C)},5619:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});t=n(7294);var r=n(1760),a=n(3726),o=n(331),i=n(2828),c=n(7814),l=n(7294);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,m,y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=[{title:"#",dataIndex:"index",key:"index",render:function(e){return l.createElement("b",null,"#",e)}},{title:"Nombre",dataIndex:"fullname",key:"fullname",render:function(e){return l.createElement("span",null,e)}},{title:"Correo electrónico",dataIndex:"email",key:"email",render:function(e){return l.createElement("span",null,e)}},{title:"Verificación de correo",dataIndex:"verifiedEmail",key:"verifiedEmail",render:function(e){return l.createElement(o.Z,{style:E.tag,color:"var(--bg-green)"},l.createElement(c.G,{icon:"check-circle"}),l.createElement("span",{style:E.tagContent},e))}},{title:"Roles adquiridos",dataIndex:"roles",key:"roles",render:function(e){return l.createElement(o.Z,{style:E.tag,color:"var(--bg-darkyellow)"},l.createElement(c.G,{icon:"user-tag"}),l.createElement("span",{style:E.tagContent},e.name))}},{title:"Fecha de creación",dataIndex:"createdAt",key:"createdAt",render:function(e){return l.createElement("span",null,e)}},{title:"Fecha de actualización",dataIndex:"updatedAt",key:"updatedAt",render:function(e){return l.createElement("span",null,e)},styles:{display:"none"}},{title:"Acciones",dataIndex:"actions",key:"actions",render:function(){return l.createElement("div",{className:"w-100 flex j-around"},l.createElement(c.G,{icon:"edit",color:"#66806A",size:"lg"}),l.createElement(c.G,{icon:"trash",color:"var(--bg-red)",size:"lg"}))}}],b=[{key:"0",index:"1",fullname:"Edward King 0",email:"husdadymena@gmail.com",verifiedEmail:"Verificado",address:"London, Park Lane no. 0",roles:{name:"Administrador"},createdAt:(new Date).toLocaleDateString(),updatedAt:(new Date).toLocaleDateString()},{key:"1",index:"2",fullname:"Edward King 0",email:"husdadymena@gmail.com",verifiedEmail:"Verificado",address:"London, Park Lane no. 0",roles:{name:"Administrador"},createdAt:(new Date).toLocaleDateString(),updatedAt:(new Date).toLocaleDateString()},{key:"2",index:"2",fullname:"Edward King 0",email:"husdadymena@gmail.com",verifiedEmail:"Verificado",address:"London, Park Lane no. 0",roles:{name:"Administrador"},createdAt:(new Date).toLocaleDateString(),updatedAt:(new Date).toLocaleDateString()}];function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),d(this,s(g).apply(this,arguments))}const v=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(g,t.Component),f=g,(m=[{key:"componentDidMount",value:function(){document.title="Administrar usuarios - Dashboard | Emprendimiento y Salud"}},{key:"render",value:function(){return l.createElement(a.Z,null,l.createElement(r.zx,{icon:{name:"plus"},title:"Nuevo usuario",attributes:{id:"add-new-user",className:"pointer border-none"}}),l.createElement("div",{id:"container-users"},l.createElement(i.Z,{bordered:!0,columns:h,dataSource:b})))}}])&&u(f.prototype,m),g);var E={tag:{marginRight:0},tagContent:{marginLeft:3}}}}]);