"use strict";(self.webpackChunkemprendimiento_y_salud_api=self.webpackChunkemprendimiento_y_salud_api||[]).push([[296],{953:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(9669),a=r.n(n),o=r(4352);a().defaults.headers.post.Accept="application/json",a().defaults.headers.post["Content-Type"]="application/json",a().defaults.headers.common.SECRET_PASSWORD=o.P;const s=a()},4352:(e,t,r)=>{r.d(t,{T:()=>n,P:()=>a});var n="https://emprendimientoysalud.herokuapp.com",a="b3143eff-1f31-4216-b596-c1f977526010"},4543:(e,t,r)=>{r.d(t,{F0:()=>h,E:()=>y,uV:()=>i,r4:()=>s,uz:()=>c,is:()=>d,WX:()=>f});var n=r(953),a=r(5026),o=r(4352);async function s(e,t){try{var r=new FormData,s=Object.keys(e),i=!0,u=!1,c=void 0;try{for(var l,d=s[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var m=l.value;r.append(m,e[m])}}catch(e){u=!0,c=e}finally{try{i||null==d.return||d.return()}finally{if(u)throw c}}t.showLoading();var f=await(0,n.Z)({method:"POST",url:"".concat(o.T,"/api/auth/signup/user"),data:r,headers:{Accept:"*",Authorization:"Bearer ".concat(t.token)}});t.hideLoading(),t.resetForm(),t.removePreviewImage(),await a.ZP.success(f.data.message,6),await a.ZP.info("Se ha enviado una verificación de cuenta a su correo personal",6)}catch(e){var p="A ocurrido un error al crear un usuario. Inténtalo más tarde";e.response?a.ZP.error(e.response.data.error||p):a.ZP.error(p,8),t.hideLoading()}}async function i(e){var t=e.user,r=e.showLoading,s=e.hideLoading,i=e.sendEmailVerification;try{r(),await(0,n.Z)({method:"POST",url:"".concat(o.T,"/api/auth/signup/admin"),data:t}),a.ZP.success("Se ha creado correctamente la cuenta!"),s(),a.ZP.loading("Redirigiendo...",(function(){i(t.email),window.location="/email?confirmation=true"}))}catch(e){if(s(),!e.response){a.ZP.error("A ocurrido un error al crear la cuenta. Inténtalo más tarde",8)}var u=e.response.data;if(u)return a.ZP.error(u.error)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}async function c(e,t){var r=new FormData,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},e,{formHasBeenEdited:t.formHasBeenEdited,existUserPhoto:JSON.stringify(e.profilePhoto)}),i=Object.keys(s),c=!0,l=!1,d=void 0;try{for(var m,f=i[Symbol.iterator]();!(c=(m=f.next()).done);c=!0){var p=m.value;r.append(p,s[p])}}catch(e){l=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}try{t.showLoading();var y=await(0,n.Z)({method:"PUT",url:"".concat(o.T,"/api/users/").concat(t.userId),data:r,headers:{Authorization:"Bearer ".concat(t.token)}});t.hideLoading(),a.ZP.success(y.data.message,4)}catch(r){t.hideLoading();var h="A ocurrido un error al editar la información de ".concat(e.fullname);return r.response?a.ZP.warn(r.response.data.error,5):a.ZP.error(h,7)}}var l=r(2849).Z;async function d(e,t){var r=JSON.stringify({query:'query {\n    user(_id: "'.concat(e,'") {\n      _id\n      fullname\n      email\n      role {\n        name\n      }\n      settings {\n        avatar {\n          url\n        }\n      }\n    }\n  }')});try{var s,i,u=(await(0,n.Z)({method:"POST",url:"".concat(o.T,"/api/graphql"),data:r})).data.data.user;if(!u)return a.ZP.error("El usuario no ha sido encontrado",6);t.setUserInformation({id:u._id,fullname:u.fullname,email:u.email,role:u.role.name,profilePhoto:(null==u||null===(s=u.settings)||void 0===s||null===(i=s.avatar)||void 0===i?void 0:i.url)||l})}catch(e){console.log("[getUserData]",e.response)}}var m=r(3281);async function f(e,t){try{await(0,n.Z)({url:"".concat(o.T,"/api/auth/verifyToken"),headers:{Authorization:"Bearer ".concat(e)}})}catch(e){if(e.response){var r=e.response.data.token;switch(r||await a.ZP.error("Algo a fallado en tu inicio de sesión, estamos solucionando el problema.",4),null==r?void 0:r.type){case"TokenExpiredError":await a.ZP.warning("Tu sesión ha expirado. Debes de volver a iniciar sesión",4);break;case"JsonWebTokenError":await a.ZP.error("Ha ocurrido un error con tu inicio de sesión",4)}}else await a.ZP.warning("Ha ocurrido un error con tu inicio de sesión",4);return await a.ZP.loading("Redirigiendo al Login...",2),(0,m.mf)(t.signOut)&&t.signOut(),window.location="/auth?login=true",null}}var p=r(423);function y(e,t){try{(0,p.SS)({theme:t.theme,title:"¿Estás seguro o segura que deseas cerrar tu cuenta?",description:"Al eliminar tu cuenta, perderás toda tu información, antes de eliminarla, recomendamos hacer una copia de seguridad de tus datos personales.",confirmButtonIcon:"trash-alt",confirmButtonTitle:"Eliminar mi cuenta",onSuccess:function(r){r(),a.ZP.loading("Eliminando cuenta...",999);var s="Administrador"===e.role,i={method:"DELETE",url:"".concat(o.T,"/api/").concat(s?"admin/close-my-account":"users/"+e._id+"/close-my-account"),headers:{Authorization:"Bearer ".concat(t.token)}};(0,n.Z)(i).then((function(){a.ZP.destroy(),a.ZP.error("Tu cuenta ha sido eliminada",4).then((function(){t.signOut({resetUserSaved:!0})}))}))}})}catch(e){a.ZP.warn("Ha ocurrido un error al eliminar tu cuenta",7)}}async function h(e,t){try{t.showLoading();var r="Administrador"===t.userRole,s="".concat(o.T,"/api/").concat(r?"admin/change-my-password":"users/".concat(t.userId,"/change-my-password"));await(0,n.Z)({method:"POST",url:s,data:e,headers:{Accept:"*",Authorization:"Bearer ".concat(t.token)}}),t.hideLoading(),t.resetForm(),a.ZP.success("Se ha actualizado tu contraseña exitosamente",5)}catch(e){e.response?a.ZP.error(e.response.data.error):a.ZP.error("Error de conexión con el servidor, inténtelo más tarde",8),t.hideLoading()}}},1097:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(7294),a=r(1382),o=r(7085),s=r(7294);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};const f=function(e){function t(){return i(this,t),l(this,c(t).apply(this,arguments))}var r,n,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,(n=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement(a.Z,{style:this.props.containerStyle,indicator:s.createElement(o.Z,{style:this.props.style,spin:!0})})}}])&&u(r.prototype,n),m&&u(r,m),t}(n.Component)},4635:(e,t,r)=>{var n=r(3935),a=r(7294),o=r(1097),s=r(8216),i=r(3727),u=r(5977),c=r(6024),l=r(8947),d=r(1436),m=r(423),f=r(2250),p=r(7578),y=r(4543),h=r(3281),g=r(7294);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),e}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function k(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?v(e):t}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}var T=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},x=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(504)]).then(r.bind(r,9504))})),_=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(297)]).then(r.bind(r,1297))})),I=(0,a.lazy)((function(){return Promise.all([r.e(683),r.e(161)]).then(r.bind(r,5161))})),D=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(930)]).then(r.bind(r,930))})),U=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(433),r.e(138)]).then(r.bind(r,8138))})),Z=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(969),r.e(614)]).then(r.bind(r,8614))})),L=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(773)]).then(r.bind(r,9773))})),B=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(676),r.e(781)]).then(r.bind(r,4317))})),N=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(309)]).then(r.bind(r,3671))})),R=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(864)]).then(r.bind(r,3864))})),C=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(417),r.e(514)]).then(r.bind(r,514))})),j=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(417),r.e(217)]).then(r.bind(r,2217))})),q=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(969),r.e(163),r.e(816)]).then(r.bind(r,3816))})),F=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(189)]).then(r.bind(r,3189))})),M=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(957)]).then(r.bind(r,9957))})),z=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(969),r.e(163),r.e(350)]).then(r.bind(r,4350))})),H=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(323)]).then(r.bind(r,323))})),J=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(121)]).then(r.bind(r,2121))})),Q=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(404)]).then(r.bind(r,1356))})),W=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(573)]).then(r.bind(r,8573))})),G=(0,a.lazy)((function(){return Promise.all([r.e(315),r.e(578),r.e(417),r.e(882),r.e(44)]).then(r.bind(r,8044))}));l.vI.add(c.NC,d.szN,d.r8p,d.Kl4,d.J9Y,d.hVM,d.G1z,d.TEX,d.hQn,d.Mdf,d.Aq,d.Xcf,d.xf2,d.I7k,d.ZeM,d.LEN,d.tho,d.RLE,d.OFe,d.FR9,d.uPb,d.Diu,d.sq$,d.DD4,d.FVb,d.WCl,d.Cv1,d.Ps7,d.FJU,d.U6l,d.m08,d.RPq,d.zlW,d.caW,d.FKd,d.yXf,d.iC0,d.p2R,d.hVn,d.SZw,d.tmN,d.duH,d.k$3,d.oFW,d.QjG,d.FU$,d.M3_,d.QjG,d.LEp,d.f8k,d.eW2,d.yOZ,d.xiG,d.NBC,d.zBy,d.wn1,d.b7W,d.r6l,d.tAh,d.B$L,d._jT,d.VmB,d.KCt,d.oc);var V={AuthRoutes:[{path:"/auth?register=true",component:_},{path:"/auth?login=true",component:x}],DashboardRoutes:[{path:"/dashboard",component:D},{path:"/dashboard/account",component:U},{path:"/dashboard/users",component:Z},{path:"/dashboard/users/create-new-user",component:L},{path:"/dashboard/users/:userId",component:B},{path:"/dashboard/roles",component:N},{path:"/dashboard/testimonials",component:R},{path:"/dashboard/testimonials/create-new-testimony",component:C},{path:"/dashboard/testimonials/:testimonyId",component:j},{path:"/dashboard/products/omnilife",component:q},{path:"/dashboard/products/omnilife/add",component:F},{path:"/dashboard/products/omnilife/:productId",component:M},{path:"/dashboard/products/seytu",component:z},{path:"/dashboard/products/seytu/add",component:H},{path:"/dashboard/products/seytu/:productId",component:J},{path:"/dashboard/membership/client",component:Q},{path:"/dashboard/membership/businessman",component:W},{path:"/dashboard/contact",component:G}]},K=function(e){function t(e){var r;return b(this,t),(r=k(this,E(t).call(this,e))).token=r.props.token,r.styles={containerStyle:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},spin:{fontSize:48,color:"var(--bg-darkpurple)"}},r.onMount=r.onMount.bind(v(r)),r.renderPages=r.renderPages.bind(v(r)),r}return S(t,e),O(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.token!==e.token||this.props.existUserAdmin!==e.existUserAdmin}},{key:"componentDidMount",value:function(){this.onMount()}},{key:"onMount",value:function(){if(this.token){var e={signOut:this.props.signOut};(0,y.WX)(this.token,e)}else this.props.verifyIfExistAdmin()}},{key:"renderPages",value:function(){return this.token?g.createElement(X,null):g.createElement(u.rs,null,g.createElement($,{extraData:{existUserAdmin:this.props.existUserAdmin,emailConfirmation:this.props.emailConfirmation}}))}},{key:"render",value:function(){return g.createElement(a.Suspense,{fallback:g.createElement(o.Z,{style:this.styles.spin,containerStyle:this.styles.containerStyle})},g.createElement(i.VK,null,this.renderPages()))}}]),t}(a.Component);const Y=(0,s.$j)((function(e){var t=e.userLogin,r=e.existUserAdmin,n=e.emailConfirmation;return{token:t.token?(0,m.ow)(t.token):t.token,existUserAdmin:JSON.parse((0,m.ow)(r)),emailConfirmation:(0,h.Qr)(n)?n:{email:(0,m.ow)(n.email),sent:JSON.parse((0,m.ow)(n.sent))}}}),(function(e){var t=(0,p.IW)(e).verifyIfExistAdmin;return{signOut:f.IW(e).signOut,verifyIfExistAdmin:t}}))(K);var $=function(e){function t(e){var r;return b(this,t),(r=k(this,E(t).call(this,e))).routes=V.AuthRoutes,r.defaultRoute="/auth?register=true",r}return S(t,e),O(t,[{key:"render",value:function(){var e=this.props.extraData,t=e.existUserAdmin,r=e.emailConfirmation;t&&(this.defaultRoute="/auth?login=true",this.routes=this.routes.filter((function(e){return"/auth?login=true"===e.path}))),r.sent&&this.routes.push({path:"/email?confirmation=true",component:I});var n=window.location,a=n.pathname+n.search,o=this.routes.find((function(e){return e.path===a}));return o?g.createElement(u.AW,{path:"/:query",component:o.component}):g.createElement(u.l_,{to:this.defaultRoute})}}]),t}(a.Component),X=function(e){function t(){return b(this,t),k(this,E(t).apply(this,arguments))}return S(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return g.createElement(u.rs,null,V.DashboardRoutes.map((function(e,t){return g.createElement(u.AW,w({key:t},e,{exact:!0}))})),g.createElement(u.l_,{to:"/dashboard"}))}}]),t}(a.Component),ee=r(3894),te=r(6734),re=r(9244),ne=r(4890),ae=r(2893),oe=r(229),se=r(7625),ie=r(5139),ue=r(7404),ce=r(8816),le=r(143),de={key:"root",storage:te.Z,whitelist:["theme","userLogin","existUserAdmin","emailConfirmation","manageUsersFilters","manageProductsFilters"]},me=(0,ne.UY)({theme:ae.Z,userLogin:f.ZP,manageUsers:se.ZP,manageProducts:ue.ZP,testimonials:oe.ZP,existUserAdmin:p.ZP,emailConfirmation:le.ZP,manageUsersFilters:ie.ZP,manageProductsFilters:ce.ZP}),fe=(0,re.OJ)(de,me);const pe=function(){var e=(0,ne.MT)(fe,(0,ne.md)(ee.Z));return{store:e,persistor:(0,re.p5)(e)}};var ye=r(8603),he=(r(4781),r(7294)),ge=pe(),ve=ge.store,be=ge.persistor;(0,n.render)(he.createElement(s.zt,{store:ve},he.createElement(ye.r,{loading:null,persistor:be},he.createElement(Y,null))),document.getElementById("root"))},143:(e,t,r)=>{r.d(t,{IW:()=>o,ZP:()=>s});r(423);var n=r(2457),a={},o=function(e){return{sendEmailVerification:function(t){return e({type:n.P4,email:t})}}};const s=function(e,t){var r=void 0===e?a:e;switch(t.type){case n.P4:return{sent:encryptData("true"),email:encryptData(t.email)};case n.Px:return a;default:return r}}},7578:(e,t,r)=>{r.d(t,{y0:()=>i,IW:()=>u,ZP:()=>c});var n=r(423),a=r(2457),o=r(5550),s=(0,n.q6)("null"),i=function(e){var t=e.existUserAdmin;return{existUserAdmin:JSON.parse((0,n.ow)(t))}},u=function(e){return{verifyIfExistAdmin:function(){return e((0,o.ID)())}}};const c=function(e,t){var r=void 0===e?s:e;switch(t.type){case a.fQ:return(0,n.q6)("true");case a.Q3:return(0,n.q6)("false");default:return r}}},2250:(e,t,r)=>{r.d(t,{ZP:()=>m,y0:()=>l,IW:()=>d});var n=r(2457),a=r(5550),o=r(423),s=r(3281);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}var c={user:{},token:null,userSaved:{},rememberUser:(0,o.q6)("false")},l=function(e){var t=e.userLogin;return{user:(0,s.Qr)(t.user)?t.user:JSON.parse((0,o.ow)(t.user)),token:t.token?(0,o.ow)(t.token):t.token,rememberUser:JSON.parse((0,o.ow)(t.rememberUser)),userSaved:{email:(0,o.ow)(t.userSaved.email),password:(0,o.ow)(t.userSaved.password)}}},d=function(e){return{forgetUser:function(){return e({type:n.$w})},signIn:function(t,r){return e((0,a.zB)(t,r))},signOut:function(t){return e((0,a.w7)(t))},updateMyPersonalInformation:function(t,r){return e((0,a.gf)(t,r))},rememberUser:function(t){var r=t.userEmail,a=t.userPassword;return e({type:n.Rt,userEmail:r,userPassword:a})}}};const m=function(e,t){var r=void 0===e?c:e;switch(t.type){case n.Rt:return u({},r,{rememberUser:(0,o.q6)("true"),userSaved:{email:(0,o.q6)(t.userEmail),password:(0,o.q6)(t.userPassword)}});case n.$w:return u({},r,{user:{},rememberUser:(0,o.q6)("false")});case n.H4:return u({},r,{token:(0,o.q6)(t.token),user:(0,o.q6)(JSON.stringify(t.user))});case n.dp:return u({},r,{user:{},token:c.token});case n.hq:var a=JSON.parse((0,o.ow)(r.user));return Object.assign(a,t.user),u({},r,{user:(0,o.q6)(JSON.stringify(a))});default:return r}}},2893:(e,t,r)=>{r.d(t,{Z:()=>u,y:()=>i});var n=r(2457);const a={name:"dark","--bg-main":"#2c3048","--bg-default":"var(--bg-dark)","--text-color":"var(--bg-white)","--bg-gray":"rgba(255, 255, 255, .15)","--bg-gray-2":"rgba(255, 255, 255, .75)","--bg-gray-3":"rgba(255, 255, 255, .05)"};const o={name:"light","--bg-main":"#EEEEEE","--bg-default":"var(--bg-white)","--text-color":"var(--bg-dark)","--bg-gray":"rgba(0, 0, 0, .15)","--bg-gray-2":"rgba(0, 0, 0, .75)","--bg-gray-3":"rgba(0, 0, 0, .05)"};var s=o,i=function(e){return{theme:e.theme}};const u=function(e,t){var r=void 0===e?s:e;switch(t.type){case n.$J:return a;case n.f8:return o;default:return r}}},8816:(e,t,r)=>{r.d(t,{vc:()=>d,y0:()=>m,IW:()=>f,ZP:()=>p});var n=r(2457),a=r(5550),o=r(423);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function u(e){return{skip:0,limit:e.limit,searchValue:"",sortKey:{date:null,default:null},sortBy:e.sortBy}}function c(e){var t=e.key,r=e.state,n=e.company,a=e.newFilters;return i({},r,s({},n,i({},r[n],s({},t,i({},r[n][t],a)))))}var l=(0,o.eK)({objects:["seytu","omnilife"],state:function(){return{orders:u({limit:5,sortBy:{"clientProduct.creationDate":-1}}),products:u({limit:10,sortBy:{createdAt:-1}})}}}),d={seytu:{orders:{company:"seytu",graphqlQuery:"seytu_orders",types:{setOrders:n.Np,saveExtraFilters:n.TB,sortByAscClientName:n.q1,sortByDescClientName:n.q2,sortByAscProductName:n.N1,sortByDescProductName:n.Ee,sortByHighestQuantity:n.N9,sortByMinorQuantity:n.nE,sortByMostRecentCreatedAt:n.DF,sortByOldestCreatedAt:n.wz,showLoading:n.v1,hideLoading:n.RE}},products:{company:"seytu",graphqlQuery:"seytu_products_in_table",types:{setProducts:n.Ke,saveExtraFilters:n.TB,sortByAscName:n.jn,sortByDescName:n.cq,sortByHighestStock:n.$K,sortByMinorStock:n.pg,sortByMostRecentCreatedAt:n.X2,sortByOldestCreatedAt:n.Uk,sortByMostRecentUpdatedAt:n.in,sortByOldestUpdatedAt:n.$i,showLoading:n.Ou,hideLoading:n.qm}}},omnilife:{orders:{company:"omnilife",graphqlQuery:"omnilife_orders",types:{setOrders:n.g$,saveExtraFilters:n.Ad,sortByAscClientName:n.Ql,sortByDescClientName:n._A,sortByAscProductName:n.H9,sortByDescProductName:n.WS,sortByMinorQuantity:n.eJ,sortByHighestQuantity:n.Kp,sortByMostRecentCreatedAt:n.e3,sortByOldestCreatedAt:n.LM,showLoading:n.sC,hideLoading:n.t0}},products:{company:"omnilife",graphqlQuery:"omnilife_products_in_table",types:{setProducts:n.ni,saveExtraFilters:n.Ad,sortByAscName:n.NQ,sortByDescName:n.dy,sortByHighestStock:n.fi,sortByMinorStock:n.Td,sortByMostRecentCreatedAt:n.Ue,sortByOldestCreatedAt:n.rU,sortByMostRecentUpdatedAt:n.h3,sortByOldestUpdatedAt:n.fG,showLoading:n.Ro,hideLoading:n.dL}}}},m=function(e){return i({},e.manageProductsFilters)},f=function(e){return(0,o.hv)({objects:["seytu","omnilife"],methods:function(t){return{searchOrders:function(r){return e((0,a.A9)(i({},d[t].orders,{value:r})))},searchProducts:function(r){return e((0,a.s3)(i({},d[t].products,{value:r})))},sortOrdersBy:function(r){return e((0,a.PG)(i({},d[t].orders,{option:r})))},sortProductsBy:function(r){return e((0,a.lB)(i({},d[t].products,{option:r})))}}}})};const p=function(e,t){var r=void 0===e?l:e;switch(t.type){case n.TB:var a=t.key,o=t.filters;if("orders"===a)return c({state:r,key:"orders",company:"seytu",newFilters:o});if("products"===a)return c({state:r,key:"products",company:"seytu",newFilters:o});break;case n.Ad:a=t.key,o=t.filters;if("orders"===a)return c({key:a,state:r,company:"omnilife",newFilters:o});if("products"===a)return c({key:a,state:r,company:"omnilife",newFilters:o});break;default:return r}}},5139:(e,t,r)=>{r.d(t,{vc:()=>u,IW:()=>c,ZP:()=>l});var n=r(2457),a=r(5550);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}var i=(0,r(423).eK)({objects:["users","deletedUsers"],state:function(){return{skip:0,limit:5,searchValue:"",sortKey:{date:null,default:null},sortBy:{createdAt:-1}}}}),u={users:{types:{setUsers:n.b1,saveUsersFilters:n.RR,sortByAscName:n.Zc,sortByDescName:n.Fp,sortByAscEmail:n.gS,sortByDescEmail:n.nu,sortByOldestCreatedAt:n.P1,sortByMostRecentCreatedAt:n.$c,sortByOldestUpdatedAt:n.qS,sortByMostRecentUpdatedAt:n.sj,showLoading:n.cT,hideLoading:n.K7}},deletedUsers:{types:{setDeletedUsers:n.tv,saveDeletedUsersFilters:n.O,sortByAscName:n.Y1,sortByDescName:n.qT,sortByAscEmail:n.$u,sortByDescEmail:n.yP,sortByOldestDeletedAt:n.Q9,sortByMostRecentDeletedAt:n.J2,showLoading:n.uy,hideLoading:n.FQ}}},c=function(e){return{searchUsers:function(t){return e((0,a.pz)(s({},u.users,{value:t})))},searchDeletedUsers:function(t){return e((0,a.BF)(s({},u.deletedUsers,{value:t})))},sortUsersBy:function(t){return e((0,a.pj)(s({option:t},u.users)))},sortDeletedUsersBy:function(t){return e((0,a.ki)(s({option:t},u.deletedUsers)))}}};const l=function(e,t){var r=void 0===e?i:e;switch(t.type){case n.RR:return s({},r,{users:s({},r.users,t.filters)});case n.O:return s({},r,{deletedUsers:s({},r.deletedUsers,t.filters)});default:return r}}},7404:(e,t,r)=>{r.d(t,{y0:()=>m,IW:()=>f,ZP:()=>p});var n=r(2457),a=r(5550),o=r(423);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=(0,o.eK)({objects:["seytu","omnilife"],state:function(){return{orders:[],products:[],categories:[],totalOrders:0,totalProducts:0,totalCategories:0,loadingOrders:null,loadingProducts:null,loadingCategories:null}}});function l(e){var t=e.state,r=e.company,n=e.action;return i({},t,s({},r,i({},t[r],{orders:(0,o.Vh)(t[r].orders,{filter:{clientId:n.clientId,index:n.index},newData:function(e){return i({},e,{status:n.status})}})})))}var d={seytu:{orders:{company:"seytu",graphqlQuery:"seytu_orders",types:{setOrders:n.Np,changeOrderStatus:n.rk,saveExtraFilters:n.TB,showLoading:n.v1,hideLoading:n.RE}},products:{company:"seytu",graphqlQuery:"seytu_products_in_table",types:{setProducts:n.Ke,saveExtraFilters:n.TB,deleteProduct:n.qp,showLoading:n.Ou,hideLoading:n.qm}},categories:{company:"seytu",graphqlQuery:"seytu_categories",types:{createCategory:n.R5,editCategory:n.hk,deleteCategory:n.Iy,setCategories:n.cW,showLoading:n.I4,hideLoading:n.cZ}}},omnilife:{orders:{company:"omnilife",graphqlQuery:"omnilife_orders",types:{setOrders:n.g$,changeOrderStatus:n.IR,saveExtraFilters:n.Ad,showLoading:n.sC,hideLoading:n.t0}},products:{company:"omnilife",graphqlQuery:"omnilife_products_in_table",types:{setProducts:n.ni,saveExtraFilters:n.Ad,deleteProduct:n.Nh,showLoading:n.Ro,hideLoading:n.dL}},categories:{company:"omnilife",graphqlQuery:"omnilife_categories",types:{createCategory:n.eZ,editCategory:n.Pk,deleteCategory:n.pm,setCategories:n.DC,showLoading:n.Lj,hideLoading:n.I7}}}},m=function(e){return i({},e.manageProducts)},f=function(e){return(0,o.hv)({objects:["seytu","omnilife"],methods:function(t){return{getPaginatedOrders:function(r){return e((0,a.Ie)(i({},r,d[t].orders)))},confirmOrder:function(r,n){return e((0,a.Nc)(i({order:r},n,d[t].orders)))},getPaginatedProducts:function(r){return e((0,a.lz)(i({},r,d[t].products)))},deleteProduct:function(r,n){return e((0,a.Ir)(i({product:r},n,d[t].products)))},getCategories:function(){return e((0,a.CP)(d[t].categories))},createCategory:function(r){return e((0,a.k4)(i({token:r},d[t].categories)))},editCategory:function(r,n){return e((0,a.ht)(i({},d[t].categories,{token:n,category:r})))},deleteCategory:function(r){return e((0,a.uu)(i({},r,d[t].categories)))}}}})};const p=function(e,t){var r=void 0===e?c:e;switch(t.type){case n.v1:return i({},r,{seytu:i({},r.seytu,{loadingOrders:!0})});case n.RE:return i({},r,{seytu:i({},r.seytu,{loadingOrders:!1})});case n.Ou:return i({},r,{seytu:i({},r.seytu,{loadingProducts:!0})});case n.qm:return i({},r,{seytu:i({},r.seytu,{loadingProducts:!1})});case n.I4:return i({},r,{seytu:i({},r.seytu,{loadingCategories:!0})});case n.cZ:return i({},r,{seytu:i({},r.seytu,{loadingCategories:!1})});case n.sC:return i({},r,{omnilife:i({},r.omnilife,{loadingOrders:!0})});case n.t0:return i({},r,{omnilife:i({},r.omnilife,{loadingOrders:!1})});case n.Ro:return i({},r,{omnilife:i({},r.omnilife,{loadingProducts:!0})});case n.dL:return i({},r,{omnilife:i({},r.omnilife,{loadingProducts:!1})});case n.Lj:return i({},r,{omnilife:i({},r.omnilife,{loadingCategories:!0})});case n.I7:return i({},r,{omnilife:i({},r.omnilife,{loadingCategories:!1})});case n.Ke:return i({},r,{seytu:i({},r.seytu,{products:t.seytuProducts,totalProducts:t.totalProducts})});case n.Np:return i({},r,{seytu:i({},r.seytu,{orders:t.seytuOrders,totalOrders:t.totalOrders})});case n.rk:return l({state:r,company:"seytu",action:t});case n.cW:return i({},r,{seytu:i({},r.seytu,{categories:t.seytuCategories,totalCategories:t.seytuCategories.length})});case n.ni:return i({},r,{omnilife:i({},r.omnilife,{products:t.omnilifeProducts,totalProducts:t.totalProducts})});case n.g$:return i({},r,{omnilife:i({},r.omnilife,{orders:t.omnilifeOrders,totalOrders:t.totalOrders})});case n.IR:return l({state:r,company:"omnilife",action:t});case n.DC:return i({},r,{omnilife:i({},r.omnilife,{categories:t.omnilifeCategories,totalCategories:t.omnilifeCategories.length})});case n.R5:return i({},r,{seytu:i({},r.seytu,{categories:u(r.seytu.categories).concat([t.category]),totalCategories:r.seytu.categories.length+1})});case n.hk:return i({},r,{seytu:i({},r.seytu,{categories:t.seytuCategoriesUpdated})});case n.Iy:return i({},r,{seytu:{categories:(0,o.iz)(r.seytu.categories,{_id:t.categoryId}),totalCategories:r.seytu.categories.length-1}});case n.qp:return i({},r,{seytu:i({},r.seytu,{products:(0,o.iz)(r.seytu.products,{_id:t.productId}),totalProducts:r.seytu.products.length-1})});case n.eZ:return i({},r,{omnilife:i({},r.omnilife,{categories:u(r.omnilife.categories).concat([t.category]),totalCategories:r.omnilife.categories.length+1})});case n.Pk:return i({},r,{omnilife:i({},r.omnilife,{categories:t.omnilifeCategoriesUpdated})});case n.pm:return i({},r,{omnilife:i({},r.omnilife,{categories:(0,o.iz)(r.omnilife.categories,{_id:t.categoryId}),totalCategories:r.omnilife.categories.length-1})});case n.Nh:return i({},r,{omnilife:i({},r.omnilife,{products:(0,o.iz)(r.omnilife.products,{_id:t.productId}),totalProducts:r.omnilife.products.length-1})});default:return r}}},229:(e,t,r)=>{r.d(t,{IW:()=>u,ZP:()=>c});var n=r(2457),a=r(5550);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}var i={testimonials:[],totalTestimonials:0,loadingTestimonials:null},u=function(e){return{getTestimonials:function(t){return e((0,a.BZ)(t))},deleteTestimony:function(t,r){return e((0,a._T)(t,r))}}};const c=function(e,t){var r=void 0===e?i:e;switch(t.type){case n.WR:return s({},r,{loadingTestimonials:!0});case n.H0:return s({},r,{loadingTestimonials:!1});case n.wv:return s({},r,{testimonials:t.testimonials,totalTestimonials:t.testimonials.length});case n.PS:return s({},r,{testimonials:r.testimonials.filter((function(e){return e._id!==t.testimonyId}))});default:return r}}},7625:(e,t,r)=>{r.d(t,{ZP:()=>m,IW:()=>d});var n=r(2457),a=r(5550),o=r(423);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c={users:[],roles:[],deletedUsers:[],totalRoles:0,totalUsers:0,totalDeletedUsers:0,loadingRoles:null,loadingUsers:null,loadingDeletedUsers:null},l={roles:{types:{setRoles:n.Ix,showLoading:n.bY,hideLoading:n.k1}},users:{types:{setUsers:n.b1,saveUsersFilters:n.RR,showLoading:n.cT,hideLoading:n.K7}},deletedUsers:{types:{setDeletedUsers:n.tv,saveDeletedUsersFilters:n.O,showLoading:n.uy,hideLoading:n.FQ}}},d=function(e){return{getRoles:function(t,r){return e((0,a.F3)(t,r))},createRole:function(t,r){return e((0,a.fA)(t,r))},updateRole:function(t,r){return e((0,a.ul)(t,r))},deleteRole:function(t,r){return e((0,a.Rd)(t,r))},getPaginatedUsers:function(t){return e((0,a.SD)(i({},t,l.users)))},deleteUser:function(t,r){return e((0,a.h8)(i({user:t},r)))},getPaginatedDeletedUsers:function(t){return e((0,a.g5)(i({},t,l.deletedUsers)))},restoreUser:function(t,r){return e((0,a.Go)(t,r))},deleteUserAccount:function(t,r){return e((0,a.xU)(t,r))}}};const m=function(e,t){var r=void 0===e?c:e;switch(t.type){case n.bY:return i({},r,{loadingRoles:!0});case n.k1:return i({},r,{loadingRoles:!1});case n.cT:return i({},r,{loadingUsers:!0});case n.K7:return i({},r,{loadingUsers:!1});case n.uy:return i({},r,{loadingDeletedUsers:!0});case n.FQ:return i({},r,{loadingDeletedUsers:!1});case n.Ix:return i({},r,{roles:t.roles,totalRoles:t.roles.length});case n.MF:return i({},r,{roles:u(r.roles).concat([t.newRole])});case n.BH:return i({},r,{roles:t.rolesUpdated});case n.p7:return i({},r,{roles:(0,o.iz)(r.roles,{_id:t.roleId})});case n.b1:return i({},r,{users:t.users,totalUsers:t.totalUsers});case n.tv:return i({},r,{deletedUsers:t.deletedUsers,totalDeletedUsers:t.totalDeletedUsers});case n.AZ:if("deleted"===t.userType)return i({},r,{deletedUsers:(0,o.iz)(r.deletedUsers,{_id:t.userId})});if("created"===t.userType)return i({},r,{users:(0,o.iz)(r.users,{_id:t.userId})});case n.jN:var a=r.users;if(!a.some((function(e){return e._id===t.user._id})))return i({},r,{users:u(a).concat([t.user]),totalUsers:a.length+1});break;case n.HO:return i({},r,{deletedUsers:u(r.deletedUsers).concat([t.user]),totalDeletedUsers:r.deletedUsers.length+1});default:return r}}},5550:(e,t,r)=>{r.d(t,{Nc:()=>Ee,k4:()=>xe,fA:()=>U,uu:()=>Ze,Ir:()=>se,Rd:()=>Z,_T:()=>E,h8:()=>R,xU:()=>Y,ht:()=>Ue,CP:()=>Be,g5:()=>ae,Ie:()=>Ae,lz:()=>pe,SD:()=>Q,F3:()=>B,BZ:()=>A,Go:()=>G,BF:()=>X,A9:()=>ge,s3:()=>me,pz:()=>F,zB:()=>m,w7:()=>p,ki:()=>te,PG:()=>Pe,lB:()=>ue,pj:()=>z,gf:()=>O,ul:()=>I,ID:()=>g});var n=r(5666),a=r.n(n),o=r(953),s=r(5026),i=r(4352),u=r(2457);function c(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}function m(e,t){return r=a().mark((function r(n){var c,l,m,f,p;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.showLoading(),document.title="Cargando...",r.next=5,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/auth/signin"),data:e});case 5:return c=r.sent,r.next=8,s.ZP.success("Se ha iniciado sesión correctamente");case 8:return t.hideLoading(),r.next=11,s.ZP.loading("Redirigiendo al Dashboard...");case 11:l=c.data.user.access_token,delete(m=d({},c.data.user)).access_token,n({type:u.H4,token:l,user:m}),window.location="/dashboard",r.next=23;break;case 18:var a;return r.prev=18,r.t0=r.catch(0),r.t0.response?(a=null===r.t0||void 0===r.t0||null===(f=r.t0.response)||void 0===f?void 0:f.data,(p=a.error)?(document.title="Inicio de sesión | Emprendimiento y Salud",s.ZP.error(p,4)):s.ZP.error("Error de conexión con el servidor. Inténtalo más tarde",4)):s.ZP.error("A ocurrido un error al intentar establecer conexión con el servidor. Inténtalo más tarde",8),t.hideLoading(),r.abrupt("return",null);case 23:case"end":return r.stop()}}),r,null,[[0,18]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){c(o,n,a,s,i,"next",e)}function i(e){c(o,n,a,s,i,"throw",e)}s(void 0)}))};var r}function f(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function p(e){return t=a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(null==e?void 0:e.resetUserSaved)){t.next=5;break}return t.next=4,s.ZP.loading("Cerrando sesión",3);case 4:r({type:u.$w});case 5:r({type:u.dp}),setTimeout((function(){return window.location="/auth?login=true"}),1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("[SignOut.error]",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){f(o,n,a,s,i,"next",e)}function i(e){f(o,n,a,s,i,"throw",e)}s(void 0)}))};var t}var y=r(423);function h(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function g(){return e=a().mark((function e(t,r){var n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)({url:"".concat(i.T,"/api/admin/existAdmin"),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:var a;n=e.sent,a=r(),s=a.existUserAdmin,(0,y.ow)(s)!==n.data.existUserAdmin&&(n.data.existUserAdmin&&t({type:u.fQ}),!n.data.existUserAdmin&&t({type:u.Q3})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("[Admin.error]",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){h(o,n,a,s,i,"next",e)}function i(e){h(o,n,a,s,i,"throw",e)}s(void 0)}))};var e}function v(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}function O(e,t){return r=a().mark((function r(n){var c,l,d,m,f,p,y,h,g,v,b,O,w,E,S;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(c=new FormData,l=P({},e,{formHasBeenEdited:t.formHasBeenEdited,existUserPhoto:JSON.stringify(e.profilePhoto)}),d=Object.keys(l),m=!0,f=!1,p=void 0,r.prev=4,y=d[Symbol.iterator]();!(m=(h=y.next()).done);m=!0)g=h.value,c.append(g,l[g]);r.next=12;break;case 8:r.prev=8,r.t0=r.catch(4),f=!0,p=r.t0;case 12:r.prev=12,r.prev=13,m||null==y.return||y.return();case 15:if(r.prev=15,!f){r.next=18;break}throw p;case 18:return r.finish(15);case 19:return r.finish(12);case 20:return r.prev=20,t.showLoading(),v="Administrador"===e.role,b="".concat(i.T,"/api/").concat(v?"admin/update":"users/"+t.userId+"/update"),O={method:"PUT",url:b,data:c,params:{returnUserData:!0},headers:{Authorization:"Bearer ".concat(t.token)}},v&&(O.params=P({},O.params,{adminId:t.userId})),r.next=28,(0,o.Z)(O);case 28:w=r.sent,E={email:e.email,fullname:e.fullname},(S=w.data.uploadedImage.settings.avatar)&&(E.profilePhoto=S),n({type:u.hq,user:E}),t.hideLoading(),s.ZP.success(w.data.message,4),r.next=44;break;case 37:if(r.prev=37,r.t1=r.catch(20),t.hideLoading(),r.t1.response){r.next=43;break}return r.abrupt("return",s.ZP.error("A ocurrido un error al editar la información personal",7));case 43:return r.abrupt("return",s.ZP.warn(r.t1.response.data.error,5));case 44:case"end":return r.stop()}}),r,null,[[4,8,12,20],[13,,15,19],[20,37]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){v(o,n,a,s,i,"next",e)}function i(e){v(o,n,a,s,i,"throw",e)}s(void 0)}))};var r}function w(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}const E=function(e,t){return function(r){try{(0,y.SS)({theme:t.theme,title:"¿Estás seguro o segura que eliminar a ".concat(e.author.name,"?"),description:"Al borrar a un autor, perderás toda su información, antes de eliminar a un autor, asegúrate de realizar una copia de seguridad, ya que no podrás restaurar al autor que deseas eliminar.",confirmButtonIcon:"trash-alt",confirmButtonTitle:"Eliminar autor",onSuccess:(c=a().mark((function n(c){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(),s.ZP.loading("Borrando autor...",999),n.next=4,(0,o.Z)({method:"DELETE",url:"".concat(i.T,"/api/testimonials/").concat(e._id),headers:{Authorization:"Bearer ".concat(t.token)}});case 4:s.ZP.destroy(),r({type:u.PS,testimonyId:e._id}),s.ZP.success("Se ha eliminado a ".concat(e.author.name," exitosamente"));case 7:case"end":return n.stop()}}),n)})),l=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=c.apply(e,t);function o(e){w(a,r,n,o,s,"next",e)}function s(e){w(a,r,n,o,s,"throw",e)}o(void 0)}))},function(){return l.apply(this,arguments)})})}catch(t){if(s.ZP.destroy(),!t.response)return s.ZP.warn("Ha ocurrido un error al eliminar a "+e.author.name,7);var n=t.response.data;if(n)return s.ZP.warn(n.error,7)}var c,l}};var S=r(3281);function k(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function A(){var e,t=JSON.stringify({query:"query {\n      testimonials {\n        _id\n        author {\n          name\n          photo {\n            url\n          }\n        }\n      }\n    }"});return e=a().mark((function e(r,n){var s,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a;return a=n().testimonials,s=a.testimonials,(0,S.yD)(s)||r({type:u.WR}),e.prev=2,e.next=5,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:t});case 5:var d;if(d=e.sent,c=d.data,l=c.data.testimonials){e.next=9;break}return e.abrupt("return");case 9:(0,y.WO)({items:s,apiItems:l,secondsToHideLoading:4e3,showLoading:function(){return r({type:u.WR})},hideLoading:function(){return r({type:u.H0})},onExistApiItems:function(){return r({type:u.wv,testimonials:l})}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("[getTestimonials.error]",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){k(o,n,a,s,i,"next",e)}function i(e){k(o,n,a,s,i,"throw",e)}s(void 0)}))}}function T(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){x(e,t,r[t])}))}return e}function I(e,t){return r=a().mark((function r(n,c){var l,d,m,f,p;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.hideModal(),s.ZP.loading("Actualizando el rol '".concat(e.previousName,"'"),999),l=_({},e,{formHasBeenEdited:t.formHasBeenEdited}),r.prev=3,r.next=6,(0,o.Z)({method:"PUT",url:"".concat(i.T,"/api/roles/").concat(e._id),data:l,headers:{Authorization:"Bearer ".concat(t.token)}});case 6:var a;s.ZP.destroy(),a=c(),d=a.manageUsers,m=d.roles.reduce((function(t,r){return r._id===e._id?t.concat({_id:e._id,name:e.roleName,permissions:e.permissions}):(t.push(r),t)}),[]),n({type:u.BH,rolesUpdated:m}),s.ZP.success("Se ha actualizado exitosamente el rol '".concat(e.previousName,"'"),4),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(3),s.ZP.destroy(),r.t0.response?s.ZP.warning(null===r.t0||void 0===r.t0||null===(f=r.t0.response)||void 0===f||null===(p=f.data)||void 0===p?void 0:p.error,6):s.ZP.error("A ocurrido un error al actualizar el rol '".concat(e.roleName,"'"));case 17:case"end":return r.stop()}}),r,null,[[3,13]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){T(o,n,a,s,i,"next",e)}function i(e){T(o,n,a,s,i,"throw",e)}s(void 0)}))};var r}function D(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function U(e,t){return r=a().mark((function r(n){var c,l,d;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.hideModal(),s.ZP.loading("Creando nuevo rol de usuario '".concat(e.roleName,"'"),999),r.prev=2,r.next=5,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/roles/add"),data:e,headers:{Authorization:"Bearer ".concat(t.token)}});case 5:var a;a=r.sent,c=a.data,s.ZP.destroy(),c.newRole&&n({type:u.MF,newRole:null==c?void 0:c.newRole}),s.ZP.success(null==c?void 0:c.message,5),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),s.ZP.destroy(),r.t0.response?s.ZP.error(null===r.t0||void 0===r.t0||null===(l=r.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.error,5):s.ZP.error("A ocurrido un error al crear el rol '".concat(e.roleName,"'"),7);case 15:case"end":return r.stop()}}),r,null,[[2,11]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){D(o,n,a,s,i,"next",e)}function i(e){D(o,n,a,s,i,"throw",e)}s(void 0)}))};var r}function Z(e,t){return function(r){(0,y.SS)({theme:t.theme,title:"¿Estás seguro o segura que deseas eliminar el rol '".concat(e.name,"'?"),description:"Al borrar un rol, todos los usuarios que tengan ese rol, actualizarán su actual rol por el rol de 'Usuario', antes de eliminar el rol '".concat(e.name,"', asegúrate que usuarios tienen establecido ese rol."),confirmButtonIcon:"trash-alt",confirmButtonTitle:"Eliminar rol",onSuccess:function(n){n(),s.ZP.loading("Eliminando rol...",999),(0,o.Z)({method:"DELETE",url:"".concat(i.T,"/api/roles/").concat(e._id),headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(){s.ZP.destroy(),r({type:u.p7,roleId:e._id}),s.ZP.success("Se eliminó exitosamente el rol '".concat(e.name,"'"))})).catch((function(t){var r,n;(s.ZP.destroy(),t.response)?s.ZP.warn(null==t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error,7):s.ZP.warn("Ha ocurrido un error al eliminar el rol "+e.name,7)}))}})}}function L(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function B(e){var t,r=e.withLoading,n=JSON.stringify({query:"query {\n      roles {\n        _id\n        name\n        permissions {\n          createUsers\n          editUsers\n          deleteUsers\n          restoreUsers\n          createRoles\n          editRoles\n          deleteRoles\n          createTestimonials\n          editTestimonials\n          deleteTestimonials\n          createProducts\n          editProducts\n          deleteProducts\n          affiliateClients\n          affiliateEntrepreneurs\n          editContactInformacion\n        }\n      }}"});return t=a().mark((function e(t,s){var c,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a;return a=s(),c=a.manageUsers,r&&((0,S.yD)(c.roles)||t({type:u.bY})),e.prev=2,e.next=5,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:n});case 5:var m;if(m=e.sent,l=m.data,d=l.data.roles,!r){e.next=9;break}return e.abrupt("return",(0,y.WO)({items:c.roles,apiItems:d,secondsToHideLoading:2e3,showLoading:function(){return t({type:u.bY})},hideLoading:function(){return t({type:u.k1})},onExistApiItems:function(){return t({type:u.Ix,roles:d})}}));case 9:if(c.roles!==d){e.next=11;break}return e.abrupt("return");case 11:t({type:u.Ix,roles:d}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("[getPaginatedRols.error]",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){L(o,n,a,s,i,"next",e)}function i(e){L(o,n,a,s,i,"throw",e)}s(void 0)}))}}var N=0;function R(e){var t=e.user,r=e.modal,n=e.token;return function(e,a){if(0===N){var o=a(),s=o.theme;o.userLogin,o.manageUsers;(0,y.SS)({theme:s.name,title:"¿Estás seguro o segura que deseas borrar temporalmente a ".concat(t.fullname,"?"),description:"Al borrar a un usuario, este ya no podrá iniciar sesión. Si deseas restaurar al usuario que has eliminado, ve a la siguiente tabla, encuentra al usuario que eliminaste y haga click en el botón 'Restaurar usuario'.",confirmButtonIcon:"eraser",confirmButtonTitle:"Borrar usuario",onCancel:function(){N=0},onSuccess:function(e){return C({user:t,token:n,modal:r,hideConfirmModal:e})}})}1!==N&&(N=1)}}function C(e){var t=e.user,r=e.token,n=e.modal;(0,e.hideConfirmModal)(),s.ZP.loading("Borrando usuario...",999),(0,o.Z)({method:"DELETE",url:"".concat(i.T,"/api/users/").concat(t._id),headers:{Authorization:"Bearer ".concat(r)}}).then((function(){if(s.ZP.destroy(),N=0,n){var e=n.state.items.length;e<=1&&n.hide(),e>1&&n.deleteItemFromModal(t._id)}dispatch({type:u.AZ,userId:t._id,userType:"created"});var r={_id:t._id,key:(0,S.yD)(manageUsers.deletedUsers)?1:manageUsers.deletedUsers[manageUsers.deletedUsers.length-1].key+1,fullname:t.fullname,email:t.email,role:t.role,settings:t.settings};dispatch({type:u.HO,user:r}),s.ZP.success("Usuario borrado exitosamente")})).catch((function(e){if(s.ZP.destroy(),N=0,e.response){var r=e.response.data.error;s.ZP.warn(r,7)}else s.ZP.warn("Ha ocurrido un error al borrar a "+t.fullname,7)}))}var j=r(2250);function q(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function F(e){var t,r=e.value,n=e.types;return t=a().mark((function e(t,u){var c,l,d,m,f,p,h,g,v,b,P,O;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,w,E;return a=u(),c=a.userLogin,l=a.manageUsersFilters,w=(0,j.y0)({userLogin:c}),d=w.user,E=l.users,m=E.limit,f=E.sortBy,p=E.setDefaultPageToTable,h=JSON.stringify(r),g=JSON.stringify({query:"query {\n        users(pagination: true, skip: 0, limit: ".concat(m,",\n          filters: {\n            deleted: false\n            searchValue: ").concat(h,'\n            excludeUserWithEmail: "').concat(d.email,'"\n            excludeFields: ["sortBy", "excludeUserWithEmail"]\n            sortBy: ').concat((0,y.vP)(f),"\n        }) {\n          count\n          items {\n            _id\n            email\n            fullname\n            role {\n              name\n            }\n            settings {\n              avatar {\n                url\n              }\n            }\n            verifyEmail\n            createdAt\n            updatedAt\n        }\n      }}")}),e.prev=5,t({type:n.showLoading}),e.next=9,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:g});case 9:var k,A;if(k=e.sent,A=k.data.data,v=A.users){e.next=15;break}return t({type:n.hideLoading}),b='No se han encontrado usuarios con el valor de búsqueda: "'.concat(r,'"'),e.abrupt("return",s.ZP.warn(b,7));case 15:P=v.items,O=v.count,t({type:n.setUsers,totalUsers:O,users:(0,y.Qv)({skip:0,limit:m,data:P})}),t({type:n.hideLoading}),t({type:n.saveUsersFilters,filters:{searchValue:r}}),(0,S.mf)(p)&&p(),e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",s.ZP.error("A ocurrido un error al buscar usuarios, inténtalo más tarde",7));case 28:case"end":return e.stop()}}),e,null,[[5,24]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){q(o,n,a,s,i,"next",e)}function i(e){q(o,n,a,s,i,"throw",e)}s(void 0)}))}}function M(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function z(e){var t,r=e.option,n=e.types;return t=a().mark((function e(t,u){var c,l,d,m,f,p,h,g,v,b,P,O,w,E,k,A,T,x,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,I,D,U;if(a=u(),c=a.userLogin,l=a.manageUsers,d=a.manageUsersFilters,I=(0,j.y0)({userLogin:c}),m=I.user,f=(D=l).users,p=D.totalUsers,(U=d.users).skip,h=U.limit,g=U.searchValue,v=U.sortKey,b=U.setDefaultPageToTable,P=JSON.stringify(g),O=1===f.length,w=p<=h,!O||!w){e.next=9;break}return e.abrupt("return",s.ZP.warning("No puedes ordenar a los usuarios, cuando solamente hay uno"));case 9:return(E=H({key:r.key,types:n})).default?Object.assign(v,{default:r.value}):Object.assign(v,{date:r.value}),delete E.default,k=JSON.stringify({query:"query {\n        users(pagination: true, skip: 0, limit: ".concat(h,",\n          filters: {\n            deleted: false\n            searchValue: ").concat(P,'\n            excludeUserWithEmail: "').concat(m.email,'"\n            excludeFields: ["sortBy", "excludeUserWithEmail"]\n            sortBy: ').concat((0,y.vP)(E),"\n        }) {\n          count\n          items {\n            _id\n            email\n            fullname\n            role {\n              name\n            }\n            settings {\n              avatar {\n                url\n              }\n            }\n            verifyEmail\n            createdAt\n            updatedAt\n        }\n      }}")}),e.prev=13,t({type:n.showLoading}),e.next=17,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:k});case 17:var Z;if(Z=e.sent,A=Z.data,T=A.data.users){e.next=21;break}return e.abrupt("return");case 21:x=T.items,_=T.count,t({type:n.setUsers,totalUsers:_,users:(0,y.Qv)({skip:0,limit:h,data:x})}),t({type:n.hideLoading}),t({type:n.saveUsersFilters,filters:{sortKey:v,sortBy:E}}),(0,S.mf)(b)&&b(),e.next=33;break;case 29:return e.prev=29,e.t0=e.catch(13),e.abrupt("return",s.ZP.error("A ocurrido un error al ordenar los usuarios, inténtalo más tarde",7));case 33:case"end":return e.stop()}}),e,null,[[13,29]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){M(o,n,a,s,i,"next",e)}function i(e){M(o,n,a,s,i,"throw",e)}s(void 0)}))}}function H(e){var t=e.key,r=e.types;switch(t){case r.sortByMostRecentCreatedAt:return{createdAt:-1,default:!1};case r.sortByOldestCreatedAt:return{createdAt:1,default:!1};case r.sortByOldestUpdatedAt:return{updatedAt:1,default:!1};case r.sortByMostRecentUpdatedAt:return{updatedAt:-1,default:!1};case r.sortByAscName:return{fullname:1,default:!0};case r.sortByDescName:return{fullname:-1,default:!0};case r.sortByAscEmail:return{email:1,default:!0};case r.sortByDescEmail:return{email:-1,default:!0}}}function J(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function Q(e){var t,r=e.skip,n=e.types,s=e.setCurrentPage,u=e.resetTableIndex;return t=a().mark((function e(t,c){var l,d,m,f,p,h,g,v,b,P,O,w,E,k,A,T;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,x,_;return a=c(),l=a.userLogin,d=a.manageUsers,m=a.manageUsersFilters,x=(0,j.y0)({userLogin:l}),f=x.user,p=d.users,_=m.users,h=_.limit,g=_.searchValue,v=_.sortBy,b=_.setDefaultPageToTable,P=JSON.stringify(g),O=r>0?(r-1)*h:0,w=JSON.stringify({query:"query {\n        users(pagination: true, skip: ".concat(O,", limit: ").concat(h,", filters: {\n          deleted: false\n          searchValue: ").concat(P,'\n          excludeUserWithEmail: "').concat(f.email,'"\n          excludeFields: ["sortBy", "excludeUserWithEmail"]\n          sortBy: ').concat((0,y.vP)(v),"\n        }) {\n          count\n          items {\n            _id\n            email\n            fullname\n            role {\n              name\n            }\n            settings {\n              avatar {\n                url\n              }\n            }\n            verifyEmail\n            createdAt\n            updatedAt\n          }\n        }}")}),e.prev=7,(0,S.yD)(p)||t({type:n.showLoading}),e.next=11,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:w});case 11:var I;if(I=e.sent,E=I.data,k=E.data.users){e.next=15;break}return e.abrupt("return");case 15:A=k.items,T=k.count,(0,y.WO)({items:p,apiItems:A,onExistApiItems:function(){return t({type:n.setUsers,totalUsers:T,users:(0,y.Qv)({skip:r,limit:h,data:A})})},showLoading:function(){return t({type:n.showLoading})},hideLoading:function(){t({type:n.hideLoading});var e={skip:r};if((0,S.mf)(s)&&(s(r),Object.assign(e,{setDefaultPageToTable:function(){return s(1)}})),t({type:n.saveUsersFilters,filters:e}),u&&(0,S.mf)(b))return b()}}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),console.log("[getPaginatedUsers.error]",e.t0.response);case 23:case"end":return e.stop()}}),e,null,[[7,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){J(o,n,a,s,i,"next",e)}function i(e){J(o,n,a,s,i,"throw",e)}s(void 0)}))}}var W=0;function G(e,t){return function(r,n){0===W&&(s.ZP.loading("Restaurando usuario...",999),(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/users/").concat(e._id,"/restore"),headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(){s.ZP.destroy(),W=0,t.modal&&t.modal.deleteItemFromModal(e._id),r({type:u.AZ,userId:e._id,userType:"deleted"});var a=n().manageUsers;e.key=(0,S.yD)(a.users)?1:a.users[a.users.length-1].key+1,r({type:u.jN,user:e}),s.ZP.success("Cuenta de usuario restaurado con éxito!",4)})).catch((function(t){if(s.ZP.destroy(),!t.response)return s.ZP.error("A ocurrido un error al restaurar la cuenta de "+e.fullname,4);s.ZP.error(t.response.data.error,7)}))),1!==W&&(W=1)}}r(7294);function V(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}var K=0;function Y(e,t){return r=a().mark((function r(n){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:0===K&&(0,y.SS)({theme:t.theme,title:"¿Estás seguro o segura que deseas eliminar definitivamente la cuenta de ".concat(e.fullname,"?"),description:"Al eliminar a un usuario de forma permanente, se eliminará su cuenta de nuestro registro, inhabilitando la posibilidad de recuperar la cuenta eliminada, antes de eliminar una cuenta definitivamente, piénsalo dos veces.",confirmButtonIcon:"trash-alt",confirmButtonTitle:"Eliminar cuenta de usuario",onCancel:function(){K=0},onSuccess:function(r){r(),s.ZP.loading("Eliminando cuenta del usuario...",999),(0,o.Z)({method:"DELETE",url:"".concat(i.T,"/api/users/").concat(e._id),params:{status:"close account"},headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(){if(s.ZP.destroy(),K=0,t.modal){var r=t.modal,a=r.state.items.length;a<=1&&r.hide(),a>1&&r.deleteItemFromModal(e._id)}n({type:u.AZ,userId:e._id,userType:"deleted"}),s.ZP.success("Cuenta de usuario eliminada exitosamente")})).catch((function(t){if(t.response){var r=t.response.data.error;s.ZP.warn(r,7)}else s.ZP.warn("Ha ocurrido un error al eliminar la cuenta de "+e.fullname,7);K=0}))}}),1!==K&&(K=1);case 2:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){V(o,n,a,s,i,"next",e)}function i(e){V(o,n,a,s,i,"throw",e)}s(void 0)}))};var r}function $(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function X(e){var t,r=e.value,n=e.types;return t=a().mark((function e(t,u){var c,l,d,m,f,p,h,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,v;return e.prev=0,a=u(),v=a.manageUsersFilters.deletedUsers,c=v.skip,l=v.limit,d=v.sortBy,m=JSON.stringify(r),t({type:n.showLoading}),f=JSON.stringify({query:"query {\n          users(pagination: true, skip: ".concat(c,", limit: ").concat(l,",\n            filters: {\n              deleted: true\n              searchValue: ").concat(m,"\n              sortBy: ").concat((0,y.vP)(d),"\n          }) {\n            count\n            items {\n              _id\n              email\n              fullname\n              role {\n                name\n              }\n              settings {\n                avatar {\n                  url\n                }\n              }\n              verifyEmail\n              createdAt\n              updatedAt\n          }\n          }\n        }")}),e.next=8,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:f});case 8:var b,P;if(b=e.sent,P=b.data.data,p=P.users){e.next=13;break}return s.ZP.warn('No se han encontrado usuarios eliminados con el valor de búsqueda: "'.concat(r,'"')),e.abrupt("return",t({type:n.hideLoading}));case 13:h=p.items,g=p.count,t({type:n.setDeletedUsers,totalDeletedUsers:g,deletedUsers:(0,y.Qv)({skip:c+1,limit:l,data:h})}),t({type:n.hideLoading}),t({type:n.saveDeletedUsersFilters,filters:{searchValue:r}}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log("[searchDeletedUsers.error]",e.t0.response);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){$(o,n,a,s,i,"next",e)}function i(e){$(o,n,a,s,i,"throw",e)}s(void 0)}))}}function ee(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function te(e){var t,r=e.option,n=e.types;return t=a().mark((function e(t,u){var c,l,d,m,f,p,h,g,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,b;return e.prev=0,a=u(),b=a.manageUsersFilters.deletedUsers,c=b.skip,l=b.limit,d=b.searchValue,m=JSON.stringify(d),f=re({key:r.key,types:n}),t({type:n.showLoading}),p=JSON.stringify({query:"query {\n          users(pagination: true, skip: ".concat(c,", limit: ").concat(l,",\n            filters: {\n              deleted: true\n              searchValue: ").concat(m,"\n              sortBy: ").concat((0,y.vP)(f),"\n          }) {\n            count\n            items {\n              _id\n              email\n              fullname\n              role {\n                name\n              }\n              settings {\n                avatar {\n                  url\n                }\n              }\n              verifyEmail\n              createdAt\n              updatedAt\n          }\n        }}")}),e.next=9,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:p});case 9:var P,O;if(P=e.sent,O=P.data.data,h=O.users){e.next=14;break}return t({type:n.hideLoading}),e.abrupt("return",s.ZP.warn("A ocurrido un error inesperado al ordenar los usuarios que han sido eliminados"));case 14:g=h.items,v=h.count,t({type:n.setDeletedUsers,totalDeletedUsers:v,deletedUsers:(0,y.Qv)({skip:c+1,limit:l,data:g})}),t({type:n.hideLoading}),t({type:n.saveDeletedUsersFilters,filters:{sortKey:r.key,sortBy:f}}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),t({type:n.hideLoading}),console.log("[sortDeletedUsersBy]",e.t0.response);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){ee(o,n,a,s,i,"next",e)}function i(e){ee(o,n,a,s,i,"throw",e)}s(void 0)}))}}function re(e){var t=e.key,r=e.types;switch(t){case r.sortByDefect:case r.sortByMostRecentDeletedAt:return{deletedAt:-1};case r.sortByOldestDeletedAt:return{deletedAt:1};case r.sortByAscName:return{fullname:1};case r.sortByDescName:return{fullname:-1};case r.sortByAscEmail:return{email:1};case r.sortByDescEmail:return{email:-1}}}function ne(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function ae(e){var t,r=e.skip,n=e.types,s=e.setCurrentPage,u=e.resetTableIndex;return t=a().mark((function e(t,c){var l,d,m,f,p,h,g,v,b,P,O,w,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,k;return a=c(),l=a.manageUsers,d=a.manageUsersFilters,m=l.deletedUsers,k=d.deletedUsers,f=k.limit,p=k.searchValue,h=k.sortBy,g=k.setDefaultPageToTable,v=JSON.stringify(p),b=r>0?(r-1)*f:r,P=JSON.stringify({query:"query {\n        users(pagination: true, skip: ".concat(b,", limit: ").concat(f,", filters: {\n          deleted: true\n          searchValue: ").concat(v,'\n          excludeFields: ["sortBy", "excludeUserWithEmail"]\n          sortBy: ').concat((0,y.vP)(h),"\n        }) {\n          count\n          items {\n            _id\n            email\n            fullname\n            role {\n              name\n            }\n            settings {\n              avatar {\n                url\n              }\n            }\n            verifyEmail\n            createdAt\n            updatedAt\n          }\n        }}")}),e.prev=6,(0,S.yD)(m)||t({type:n.showLoading}),e.next=10,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:P});case 10:var A;if(A=e.sent,(O=A.data).data.users){e.next=13;break}return e.abrupt("return");case 13:if(w=O.data.users.items,E=O.data.users.count,w){e.next=17;break}return e.abrupt("return");case 17:(0,y.WO)({items:m,apiItems:w,onExistApiItems:function(){return t({type:n.setDeletedUsers,totalDeletedUsers:E,deletedUsers:(0,y.Qv)({skip:r,limit:f,data:w})})},showLoading:function(){return t({type:n.showLoading})},hideLoading:function(){if(t({type:n.hideLoading}),t({type:n.saveDeletedUsersFilters,filters:{skip:b}}),(0,S.mf)(s)&&s(r),u&&(0,S.mf)(g))return g()}}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.log("[getPaginatedDeletedUsers.error]",e.t0.response);case 23:case"end":return e.stop()}}),e,null,[[6,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){ne(o,n,a,s,i,"next",e)}function i(e){ne(o,n,a,s,i,"throw",e)}s(void 0)}))}}var oe=0;function se(e){var t=e.product,r=e.token,n=e.modal,a=e.types,u=e.company;return function(e,c){if(0===oe){var l=c(),d=l.theme;l.manageProduct;(0,y.SS)({theme:d.name,title:"¿Estás seguro o segura que deseas eliminar el producto '".concat(t.name,"'?"),description:"Al eliminar un producto, se eliminará toda su información de nuestros registros, antes de eliminar un producto, por favor realiza una copia de seguridad de su información.",confirmButtonIcon:"trash-alt",confirmButtonTitle:"Borrar producto",onCancel:function(){oe=0},onSuccess:function(c){c(),s.ZP.loading("Borrando producto...",999),(0,o.Z)({method:"DELETE",url:"".concat(i.T,"/api/products/").concat(u,"/").concat(t._id),headers:{Authorization:"Bearer ".concat(r)}}).then((function(){if(s.ZP.destroy(),oe=0,n){var r=n.state.items.length;r<=1&&n.hide(),r>1&&n.deleteItemFromModal(t._id)}e({type:a.deleteProduct,productId:t._id}),s.ZP.success("Producto borrado exitosamente")})).catch((function(e){if(console.log(e),s.ZP.destroy(),!e.response)return s.ZP.warn("Ha ocurrido un error al eliminar el producto '".concat(t.name),7);var r=e.response.data;if(r)return messag.warn(r.error,7);oe=0}))}})}}}function ie(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function ue(e){var t,r=e.option,n=e.types,u=e.company,c=e.graphqlQuery;return t=a().mark((function e(t,l){var d,m,f,p,h,g,v,b,P,O,w,E,k,A,T,x,_,I;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,D,U;if(a=l(),d=a.manageProducts,m=a.manageProductsFilters,D=d[u],f=D.products,p=D.totalProducts,(U=m[u].products).skip,h=U.limit,g=U.searchValue,v=U.sortKey,b=U.setDefaultPageToTable,P=JSON.stringify(g),O=1===f.length,w=p<=h,!O||!w){e.next=8;break}return e.abrupt("return",s.ZP.warning("No puedes ordenar los productos, cuando solamente hay uno"));case 8:return(E=ce({key:r.key,types:n})).default?Object.assign(v,{default:r.value}):Object.assign(v,{date:r.value}),delete E.default,k=JSON.stringify({query:"query {\n      ".concat(c," (pagination: true, skip: 0, limit: ").concat(h,",\n        filters: {\n          name: ").concat(P,'\n          excludeFields: ["sortBy"]\n          sortBy: ').concat((0,y.vP)(E),"\n      }) {\n        count\n        items {\n          _id\n          name\n          description\n          stock\n          defaultImage {\n            url\n          }\n          categories {\n            _id\n            name\n          }\n          createdAt\n          updatedAt\n        }\n      }}")}),e.prev=12,t({type:n.showLoading}),e.next=16,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:k});case 16:var Z;if(Z=e.sent,A=Z.data,T=A.data[c]){e.next=20;break}return e.abrupt("return");case 20:x=T.items,_=T.count,I=u+"Products",t((L={type:n.setProducts,totalProducts:_},B=I,N=(0,y.Qv)({skip:0,limit:h,data:x}),B in L?Object.defineProperty(L,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):L[B]=N,L)),t({type:n.hideLoading}),t({type:n.saveExtraFilters,key:"products",filters:{sortKey:v,sortBy:E}}),(0,S.mf)(b)&&b(),e.next=34;break;case 29:return e.prev=29,e.t0=e.catch(12),console.log(e.t0),e.abrupt("return",s.ZP.error("A ocurrido un error al ordenar los productos, inténtalo más tarde",7));case 34:case"end":return e.stop()}var L,B,N}),e,null,[[12,29]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){ie(o,n,a,s,i,"next",e)}function i(e){ie(o,n,a,s,i,"throw",e)}s(void 0)}))}}function ce(e){var t=e.key,r=e.types;switch(t){case r.sortByMostRecentCreatedAt:return{createdAt:-1,default:!1};case r.sortByOldestCreatedAt:return{createdAt:1,default:!1};case r.sortByOldestUpdatedAt:return{updatedAt:1,default:!1};case r.sortByMostRecentUpdatedAt:return{updatedAt:-1,default:!0};case r.sortByAscName:return{name:1,default:!0};case r.sortByDescName:return{name:-1,default:!0};case r.sortByHighestStock:return{stock:-1,default:!0};case r.sortByMinorStock:return{stock:1,default:!0}}}function le(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){var t,r=e.value,n=e.types,u=e.company,c=e.graphqlQuery;return t=a().mark((function e(t,l){var d,m,f,p,h,g,v,b,P,O,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,E;return a=l(),E=a.manageProductsFilters[u].products,d=E.limit,m=E.sortBy,f=E.setDefaultPageToTable,p=JSON.stringify(r),h=JSON.stringify({query:"query {\n      ".concat(c," (pagination: true, skip: 0, limit: ").concat(d,",\n        filters: {\n          name: ").concat(p,'\n          excludeFields: ["sortBy"]\n          sortBy: ').concat((0,y.vP)(m),"\n      }) {\n        count\n        items {\n          _id\n          name\n          description\n          stock\n          defaultImage {\n            url\n          }\n          categories {\n            _id\n            name\n          }\n          createdAt\n          updatedAt\n        }\n      }}")}),e.prev=4,t({type:n.showLoading}),e.next=8,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:h});case 8:var k;if(k=e.sent,g=k.data,v=g.data[c]){e.next=14;break}return t({type:n.hideLoading}),b='No se han encontrado productos con el valor de búsqueda: "'.concat(r,'"'),e.abrupt("return",s.ZP.warn(b,7));case 14:P=v.items,O=v.count,w=u+"Products",t(de({type:n.setProducts,totalProducts:O},w,(0,y.Qv)({skip:0,limit:d,data:P}))),t({type:n.hideLoading}),t({type:n.saveExtraFilters,key:"products",filters:{searchValue:r}}),(0,S.mf)(f)&&f(),e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(4),e.abrupt("return",s.ZP.error("A ocurrido un error al buscar productos, inténtalo más tarde",7));case 28:case"end":return e.stop()}}),e,null,[[4,24]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){le(o,n,a,s,i,"next",e)}function i(e){le(o,n,a,s,i,"throw",e)}s(void 0)}))}}function fe(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function pe(e){var t,r=e.skip,n=e.types,u=e.company,c=e.graphqlQuery,l=e.setCurrentPage,d=e.resetTableIndex;return t=a().mark((function e(t,m){var f,p,h,g,v,b,P,O,w,E,k,A,T,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,_,I;return a=m(),f=a.manageProducts,p=a.manageProductsFilters,_=f[u],h=_.products,I=p[u].products,g=I.limit,v=I.searchValue,b=I.sortBy,P=I.setDefaultPageToTable,O=JSON.stringify(v),w=r>0?(r-1)*g:0,E=JSON.stringify({query:"query {\n      ".concat(c," (pagination: true, skip: ").concat(w,", limit: ").concat(g,",\n        filters: {\n          name: ").concat(O,'\n          excludeFields: ["sortBy"]\n          sortBy: ').concat((0,y.vP)(b),"\n      }) {\n        count\n        items {\n          _id\n          name\n          description\n          stock\n          defaultImage {\n            url\n          }\n          categories {\n            _id\n            name\n          }\n          createdAt\n          updatedAt\n        }\n      }}")}),e.prev=6,(0,S.yD)(h)||t({type:n.showLoading}),e.next=10,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:E});case 10:var D;if(D=e.sent,k=D.data,A=k.data[c]){e.next=14;break}return e.abrupt("return");case 14:T=A.items,x=A.count,(0,y.WO)({items:h,apiItems:T,onExistApiItems:function(){var e,a,o,s=u+"Products";return t((e={type:n.setProducts,totalProducts:x},a=s,o=(0,y.Qv)({skip:r,limit:g,data:T}),a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e))},showLoading:function(){return t({type:n.showLoading})},hideLoading:function(){t({type:n.hideLoading});var e={skip:r};if((0,S.mf)(l)&&(l(r),Object.assign(e,{setDefaultPageToTable:function(){return l(1)}})),t({type:n.saveExtraFilters,key:"products",filters:e}),d&&(0,S.mf)(P))return P()}}),e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",s.ZP.error("A ocurrido un error obtener los productos, inténtalo más tarde",7));case 24:case"end":return e.stop()}}),e,null,[[6,19]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){fe(o,n,a,s,i,"next",e)}function i(e){fe(o,n,a,s,i,"throw",e)}s(void 0)}))}}function ye(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e){var t,r=e.value,n=e.types,u=e.company,c=e.graphqlQuery;return t=a().mark((function e(t,l){var d,m,f,p,h,g,v,b,P,O,w,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,k;return a=l(),k=a.manageProductsFilters[u].orders,d=k.limit,m=k.sortBy,f=k.setDefaultPageToTable,p=JSON.stringify(r),h=JSON.stringify({query:"query {\n      ".concat(c," (pagination: true, skip: 0, limit: ").concat(d,",\n        filters: {\n          clientName: ").concat(p,"\n      }) {\n        count\n        items {\n          clientId\n          clientName\n          clientPhone\n          clientProduct {\n            status\n            totalUnits\n            creationDate\n            product {\n              _id\n              name\n              price\n              defaultImage {\n                url\n                width\n                height\n              }\n            }\n          }\n        }\n      }}")}),e.prev=4,t({type:n.showLoading}),e.next=8,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:h,params:{sortBy:m}});case 8:var A;if(A=e.sent,g=A.data,v=g.data[c]){e.next=14;break}return t({type:n.hideLoading}),b='No se han encontrado pedidos con el valor de búsqueda: "'.concat(r,'"'),e.abrupt("return",s.ZP.warn(b,7));case 14:P=v.items,O=v.count,w=u+"Orders",E=(0,y.a4)(P),t(he({type:n.setOrders,totalOrders:O},w,(0,y.Qv)({skip:0,limit:d,data:E}))),t({type:n.hideLoading}),t({type:n.saveExtraFilters,key:"orders",filters:{searchValue:r}}),(0,S.mf)(f)&&f(),e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(4),console.log(e.t0.response),e.abrupt("return",s.ZP.error("A ocurrido un error al buscar los pedidos de los clientes, inténtalo más tarde",7));case 30:case"end":return e.stop()}}),e,null,[[4,25]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){ye(o,n,a,s,i,"next",e)}function i(e){ye(o,n,a,s,i,"throw",e)}s(void 0)}))}}function ve(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e){var t,r=e.option,n=e.types,u=e.company,c=e.graphqlQuery;return t=a().mark((function e(t,l){var d,m,f,p,h,g,v,b,P,O,w,E,k,A,T,x,_,I,D;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,U,Z;if(a=l(),d=a.manageProducts,m=a.manageProductsFilters,U=d[u],f=U.orders,p=U.totalOrders,(Z=m[u].orders).skip,h=Z.limit,g=Z.searchValue,v=Z.sortKey,b=Z.setDefaultPageToTable,P=JSON.stringify(g),O=1===f.length,w=p<=h,!O||!w){e.next=8;break}return e.abrupt("return",s.ZP.warning("No puedes ordenar los pedidos de los clientes, cuando solamente hay uno"));case 8:return(E=Oe({key:r.key,types:n})).default?Object.assign(v,{default:r.value}):Object.assign(v,{date:r.value}),delete E.default,k=JSON.stringify({query:"query {\n      ".concat(c," (pagination: true, skip: 0, limit: ").concat(h,",\n        filters: {\n          clientName: ").concat(P,"\n      }) {\n        count\n        items {\n          clientId\n          clientName\n          clientPhone\n          clientProduct {\n            status\n            totalUnits\n            creationDate\n            product {\n              _id\n              name\n              price\n              defaultImage {\n                url\n                width\n                height\n              }\n            }\n          }\n        }\n      }}")}),e.prev=12,t({type:n.showLoading}),e.next=16,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:k,params:{sortBy:E}});case 16:var L;if(L=e.sent,A=L.data,T=A.data[c]){e.next=20;break}return e.abrupt("return");case 20:x=T.items,_=T.count,I=u+"Orders",D=(0,y.a4)(x),t(be({type:n.setOrders,totalOrders:_},I,(0,y.Qv)({skip:0,limit:h,data:D}))),t({type:n.hideLoading}),t({type:n.saveExtraFilters,key:"orders",filters:{sortKey:v,sortBy:E}}),(0,S.mf)(b)&&b(),e.next=35;break;case 30:return e.prev=30,e.t0=e.catch(12),console.log(e.t0.response),e.abrupt("return",s.ZP.error("A ocurrido un error al ordenar los pedidos de los clientes, inténtalo más tarde",7));case 35:case"end":return e.stop()}}),e,null,[[12,30]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){ve(o,n,a,s,i,"next",e)}function i(e){ve(o,n,a,s,i,"throw",e)}s(void 0)}))}}function Oe(e){var t=e.key,r=e.types;switch(t){case r.sortByMostRecentCreatedAt:return{"clientProduct.creationDate":-1,default:!1};case r.sortByOldestCreatedAt:return{"clientProduct.creationDate":1,default:!1};case r.sortByAscClientName:return{clientName:1,default:!0};case r.sortByDescClientName:return{clientName:-1,default:!0};case r.sortByAscProductName:return{"clientProduct.product.name":1,default:!0};case r.sortByDescProductName:return{"clientProduct.product.name":-1,default:!0};case r.sortByMinorQuantity:return{"clientProduct.totalUnits":1,default:!0};case r.sortByHighestQuantity:return{"clientProduct.totalUnits":-1,default:!0}}}function we(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function Ee(e){var t,r=e.order,n=e.types,u=e.company,c=e.showLoading,l=e.hideLoading,d=e.hideModal;return t=a().mark((function e(t,m){var f,p,y,h,g,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,b,P;if(a=m(),b=a.manageProducts[u],f=b.orders,p=(P=r).product,y=P.clientId,h=P.clientName,!f.some((function(e){return e.product._id===p._id&&"completed"==e.status}))){e.next=6;break}return e.abrupt("return",s.ZP.warn("El pedido del cliente ".concat(h,", ya ha sido completado"),6));case 6:if("cancelled"!==r.status){e.next=9;break}return e.abrupt("return",s.ZP.warning("El cliente ".concat(h,', ha cancelado el pedido del producto: "').concat(r.product.name,'", por lo tanto no puedes confirmar un pedido que ha sido cancelado'),9));case 9:return(0,S.mf)(c)&&c(),e.prev=10,s.ZP.loading("Completando pedido",999),e.next=14,(0,o.Z)({method:"PUT",url:"".concat(i.T,"/api/products/").concat(u,"/orders/").concat(y,"/complete/").concat(p._id)});case 14:return g=e.sent,t({type:n.changeOrderStatus,clientId:y,index:r.index,status:"completed"}),(0,S.mf)(l)&&l(),(0,S.mf)(d)&&d(),null===s.ZP||void 0===s.ZP||s.ZP.destroy(),e.abrupt("return",s.ZP.success(g.data.message,7));case 22:if(e.prev=22,e.t0=e.catch(10),null===s.ZP||void 0===s.ZP||s.ZP.destroy(),(0,S.mf)(l)&&l(),e.t0.response){e.next=29;break}return v='A ocurrido un error al completar el pedido del producto: "'.concat(r.product.name,'"'),e.abrupt("return",s.ZP.error(v));case 29:if(!e.t0.message){e.next=31;break}return e.abrupt("return",s.ZP.error(e.t0.message,6));case 31:case"end":return e.stop()}}),e,null,[[10,22]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){we(o,n,a,s,i,"next",e)}function i(e){we(o,n,a,s,i,"throw",e)}s(void 0)}))}}function Se(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(e){var t,r=e.skip,n=e.types,u=e.company,c=e.graphqlQuery,l=e.setCurrentPage,d=e.resetTableIndex;return t=a().mark((function e(t,m){var f,p,h,g,v,b,P,O,w,E,k,A,T,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,_,I;return a=m(),f=a.manageProducts,p=a.manageProductsFilters,_=f[u],h=_.orders,I=p[u].orders,g=I.limit,v=I.searchValue,b=I.sortBy,P=I.setDefaultPageToTable,O=JSON.stringify(v),w=r>0?(r-1)*g:0,E=JSON.stringify({query:"query {\n      ".concat(c," (pagination: true, skip: ").concat(w,", limit: ").concat(g,",\n        filters: {\n          clientName: ").concat(O,"\n      }) {\n        count\n        items {\n          clientId\n          clientName\n          clientPhone\n          clientProduct {\n            status\n            totalUnits\n            creationDate\n            product {\n              _id\n              name\n              price\n              defaultImage {\n                url\n                width\n                height\n              }\n            }\n          }\n        }\n      }}")}),e.prev=6,(0,S.yD)(h)||t({type:n.showLoading}),e.next=10,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:E,params:{sortBy:b}});case 10:var D;if(D=e.sent,k=D.data,A=k.data[c]){e.next=14;break}return e.abrupt("return");case 14:T=A.items,x=A.count,(0,y.WO)({items:h,apiItems:T,onExistApiItems:function(){var e=u+"Orders",a=(0,y.a4)(T);return t(ke({type:n.setOrders,totalOrders:x},e,(0,y.Qv)({skip:r,limit:g,data:a})))},showLoading:function(){return t({type:n.showLoading})},hideLoading:function(){t({type:n.hideLoading});var e={skip:r};if((0,S.mf)(l)&&(l(r),Object.assign(e,{setDefaultPageToTable:function(){return l(1)}})),t({type:n.saveExtraFilters,key:"orders",filters:e}),d&&(0,S.mf)(P))return P()}}),e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(6),e.abrupt("return",s.ZP.error("A ocurrido un error obtener los pedidos de los clientes, inténtalo más tarde",7));case 23:case"end":return e.stop()}}),e,null,[[6,19]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){Se(o,n,a,s,i,"next",e)}function i(e){Se(o,n,a,s,i,"throw",e)}s(void 0)}))}}function Te(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function xe(e){return function(t){var r,n,u=window.prompt("Ingresa el nombre de la nueva categoría");(0,S.Hm)({value:u,onValidCategory:(r=a().mark((function r(){var n,c,l;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s.ZP.loading("Creando categoría '".concat(u,"'"),999),r.next=4,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/products/").concat(e.company,"/categories/add"),data:{name:u},headers:{Authorization:"Bearer ".concat(e.token)}});case 4:n=r.sent,s.ZP.destroy(),t({type:e.types.createCategory,category:n.data.newCategory}),s.ZP.success(n.data.message,6),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),s.ZP.destroy(),r.t0.response?s.ZP.error(null===r.t0||void 0===r.t0||null===(c=r.t0.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.error,5):s.ZP.error("A ocurrido un error al crear la categoría '".concat(u,"'"),7);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})),n=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){Te(o,n,a,s,i,"next",e)}function i(e){Te(o,n,a,s,i,"throw",e)}s(void 0)}))},function(){return n.apply(this,arguments)})})}}function _e(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ie(e,t,r[t])}))}return e}function Ue(e){return function(t,r){var n,u,c=e.token,l=e.category,d=e.company,m=window.prompt("Ingresa el nuevo nombre de la categoría",l.name);(0,S.Hm)({value:m,onValidCategory:(n=a().mark((function n(){var u,f,p,y,h,g;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s.ZP.loading("Actualizando categoría '".concat(l.name,"'"),999),n.next=4,(0,o.Z)({method:"PUT",url:"".concat(i.T,"/api/products/").concat(d,"/categories/").concat(l._id),data:{lastCategoryName:l.name,newCategoryName:m,categoryHasBeenEdited:m!==l.name},headers:{Authorization:"Bearer ".concat(c)}});case 4:var a;u=n.sent,s.ZP.destroy(),a=r(),f=a.manageProducts,p=f[d].categories.reduce((function(e,t){return t._id===l._id?e.push(De({},t,{name:m})):e.push(t),e}),[]),y="".concat(d,"CategoriesUpdated"),t(Ie({type:e.types.editCategory},y,p)),s.ZP.success(u.data.message,6),n.next=22;break;case 13:if(n.prev=13,n.t0=n.catch(0),s.ZP.destroy(),n.t0.response){n.next=19;break}return h='A ocurrido un error al actualizar la categoría "'.concat(l.name,'"'),n.abrupt("return",s.ZP.error(h,7));case 19:if(!(g=n.t0.response.data)){n.next=22;break}return n.abrupt("return",s.ZP.error(g.error,5));case 22:case"end":return n.stop()}}),n,null,[[0,13]])})),u=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function s(e){_e(o,r,a,s,i,"next",e)}function i(e){_e(o,r,a,s,i,"throw",e)}s(void 0)}))},function(){return u.apply(this,arguments)})})}}function Ze(e){return function(t){var r=e.theme,n=e.token,a=e.company,u=e.category;(0,y.SS)({theme:r,title:"¿Estás seguro o segura que deseas eliminar la categoría '".concat(u.name,"'?"),description:"Al eliminar una categoría, todos los productos que tengan esa categoría, se procederá a eliminar dicha categoría de todas de las que tienen establecidas.",confirmButtonIcon:"trash-alt",confirmButtonTitle:"Eliminar categoría",onSuccess:function(r){r(),s.ZP.loading("Eliminando categoría...",999),(0,o.Z)({method:"DELETE",url:"".concat(i.T,"/api/products/").concat(a,"/categories/").concat(u._id),headers:{Authorization:"Bearer ".concat(n)}}).then((function(){s.ZP.destroy(),t({type:e.types.deleteCategory,categoryId:u._id}),s.ZP.success("Se eliminó exitosamente la categoría '".concat(u.name,"'"))})).catch((function(e){var t,r;(s.ZP.destroy(),e.response)?s.ZP.warn(null==e||null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error,7):s.ZP.warn("Ha ocurrido un error al eliminar la categoría "+u.name,7)}))}})}}function Le(e,t,r,n,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}function Be(e){var t,r=e.types,n=e.company,s=e.graphqlQuery;return t=a().mark((function e(t,u){var c,l,d,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var a,f;return c=JSON.stringify({query:"query {\n        ".concat(s," {\n          _id\n          name\n        }\n      }")}),a=u(),f=a.manageProducts[n],l=f.categories,(0,S.yD)(l)||t({type:r.showLoading}),e.prev=4,e.next=7,(0,o.Z)({method:"POST",url:"".concat(i.T,"/api/graphql"),data:c});case 7:var p;if(p=e.sent,d=p.data,m=d.data[s]){e.next=11;break}return e.abrupt("return");case 11:(0,y.WO)({items:l,apiItems:m,showLoading:function(){return t({type:r.showLoading})},hideLoading:function(){return t({type:r.hideLoading})},onExistApiItems:function(){var e,a,o,s=n+"Categories";return t((e={type:r.setCategories},o=m,(a=s)in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e))}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("[getCategories.".concat(n,".error]"),e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(e){Le(o,n,a,s,i,"next",e)}function i(e){Le(o,n,a,s,i,"throw",e)}s(void 0)}))}}},2457:(e,t,r)=>{r.d(t,{$J:()=>n,f8:()=>a,fQ:()=>i,Q3:()=>u,P4:()=>o,Px:()=>s,H4:()=>c,dp:()=>l,$w:()=>d,Rt:()=>m,hq:()=>f,MF:()=>v,BH:()=>b,p7:()=>P,Ix:()=>O,bY:()=>w,k1:()=>E,jN:()=>S,AZ:()=>k,b1:()=>A,cT:()=>T,K7:()=>x,HO:()=>_,tv:()=>I,uy:()=>D,FQ:()=>U,R5:()=>W,hk:()=>G,Iy:()=>V,qp:()=>K,Np:()=>Y,Ke:()=>$,cW:()=>X,rk:()=>ee,Ou:()=>re,v1:()=>te,I4:()=>ne,qm:()=>oe,RE:()=>ae,cZ:()=>se,eZ:()=>ie,Pk:()=>ue,pm:()=>ce,Nh:()=>le,g$:()=>de,ni:()=>me,DC:()=>fe,IR:()=>pe,Ro:()=>he,sC:()=>ye,Lj:()=>ge,dL:()=>be,t0:()=>ve,I7:()=>Pe,PS:()=>p,wv:()=>y,WR:()=>h,H0:()=>g,Zc:()=>Z,Fp:()=>L,gS:()=>B,nu:()=>N,P1:()=>R,$c:()=>C,qS:()=>j,sj:()=>q,Y1:()=>F,qT:()=>M,$u:()=>z,yP:()=>H,J2:()=>J,Q9:()=>Q,q1:()=>Oe,q2:()=>we,N1:()=>Ee,Ee:()=>Se,nE:()=>ke,N9:()=>Ae,DF:()=>Te,wz:()=>xe,jn:()=>_e,cq:()=>Ie,$K:()=>De,pg:()=>Ue,X2:()=>Ze,Uk:()=>Le,in:()=>Be,$i:()=>Ne,Ql:()=>Re,_A:()=>Ce,H9:()=>je,WS:()=>qe,eJ:()=>Fe,Kp:()=>Me,e3:()=>ze,LM:()=>He,NQ:()=>Je,dy:()=>Qe,fi:()=>We,Td:()=>Ge,Ue:()=>Ve,rU:()=>Ke,h3:()=>Ye,fG:()=>$e,RR:()=>Xe,O:()=>et,TB:()=>tt,Ad:()=>rt});var n=Symbol("DARK_THEME"),a=Symbol("LIGHT_THEME"),o=Symbol("SAVE_EMAIL_CONFIRMATION"),s=Symbol("RESET_EMAIL_CONFIRMATION"),i=Symbol("EXIST_ADMIN"),u=Symbol("NOT_EXIST_ADMIN"),c=Symbol("SIGN_IN"),l=Symbol("SIGN_OUT"),d=Symbol("FORGET_USER"),m=Symbol("REMEMBER_USER"),f=Symbol("UPDATE_USER_DATA"),p=Symbol("DELETE_TESTIMONY"),y=Symbol("SET_TESTIMONIALS"),h=Symbol("SHOW_LOADING_TESTIMONIALS"),g=Symbol("HIDE_LOADING_TESTIMONIALS"),v=Symbol("ADD_ROLE"),b=Symbol("EDIT_ROLE"),P=Symbol("DELETE_ROLE"),O=Symbol("SET_ROLES"),w=Symbol("SHOW_LOADING_ROLES"),E=Symbol("HIDE_LOADING_ROLES"),S=Symbol("ADD_USER"),k=Symbol("DELETE_USER"),A=Symbol("SET_USERS"),T=Symbol("SHOW_LOADING_USERS"),x=Symbol("HIDE_LOADING_USERS"),_=Symbol("ADD_DELETED_USER"),I=Symbol("SET_DELETED_USERS"),D=Symbol("SHOW_LOADING_DELETED_USERS"),U=Symbol("HIDE_LOADING_DELETED_USERS"),Z="sort-users-by-asc-name",L="sort-users-by-desc-name",B="sort-users-by-asc-email",N="sort-users-by-desc-email",R="sort-users-by-desc-createdAt",C="sort-users-by-asc-createdAt",j="sort-users-by-desc-updatedAt",q="sort-users-by-asc-updatedAt",F="sort-deleted-users-by-asc-name",M="sort-deleted-users-by-desc-name",z="sort-deleted-users-by-asc-email",H="sort-deleted-users-by-desc-email",J="sort-deleted-users-by-desc-deletedAt",Q="sort-deleted-users-by-asc-deletedAt",W=Symbol("ADD_SEYTU_CATEGORY"),G=Symbol("EDIT_SEYTU_CATEGORY"),V=Symbol("DELETE_SEYTU_CATEGORY"),K=Symbol("DELETE_SEYTU_PRODUCT"),Y=Symbol("SET_SEYTU_ORDERS"),$=Symbol("SET_SEYTU_PRODUCTS"),X=Symbol("SET_SEYTU_CATEGORIES"),ee=Symbol("CHANGE_SEYTU_ORDER_STATUS"),te=Symbol("SHOW_LOADING_SEYTU_ORDERS"),re=Symbol("SHOW_LOADING_SEYTU_PRODUCTS"),ne=Symbol("SHOW_LOADING_SEYTU_CATEGORIES"),ae=Symbol("HIDE_LOADING_SEYTU_ORDERS"),oe=Symbol("HIDE_LOADING_SEYTU_PRODUCTS"),se=Symbol("HIDE_LOADING_SEYTU_CATEGORIES"),ie=Symbol("ADD_OMNILIFE_CATEGORY"),ue=Symbol("EDIT_OMNILIFE_CATEGORY"),ce=Symbol("DELETE_OMNILIFE_CATEGORY"),le=Symbol("DELETE_OMNILIFE_PRODUCT"),de=Symbol("SET_OMNILIFE_ORDERS"),me=Symbol("SET_OMNILIFE_PRODUCTS"),fe=Symbol("SET_OMNILIFE_CATEGORIES"),pe=Symbol("CHANGE_OMNILIFE_ORDER_STATUS"),ye=Symbol("SHOW_LOADING_OMNILIFE_ORDERS"),he=Symbol("SHOW_LOADING_OMNILIFE_PRODUCTS"),ge=Symbol("SHOW_LOADING_OMNILIFE_CATEGORIES"),ve=Symbol("HIDE_LOADING_OMNILIFE_ORDERS"),be=Symbol("HIDE_LOADING_OMNILIFE_PRODUCTS"),Pe=Symbol("HIDE_LOADING_OMNILIFE_CATEGORIES"),Oe="sort-seytu-orders-by-asc-clientName",we="sort-seytu-orders-by-desc-clientName",Ee="sort-seytu-orders-by-asc-productName",Se="sort-seytu-orders-by-desc-productName",ke="sort-seytu-orders-by-minor-quantity",Ae="sort-seytu-orders-by-highest-quantity",Te="sort-seytu-orders-by-desc-createdAt",xe="sort-seytu-orders-by-asc-createdAt",_e="sort-seytu-products-by-asc-name",Ie="sort-seytu-products-by-desc-name",De="sort-seytu-products-by-highest-stock",Ue="sort-seytu-products-by-minor-stock",Ze="sort-seytu-products-by-desc-createdAt",Le="sort-seytu-products-by-asc-createdAt",Be="sort-seytu-products-by-desc-updatedAt",Ne="sort-seytu-products-by-asc-updatedAt",Re="sort-omnilife-orders-by-asc-clientName",Ce="sort-omnilife-orders-by-desc-clientName",je="sort-omnilife-orders-by-asc-productName",qe="sort-omnilife-orders-by-desc-productName",Fe="sort-omnilife-orders-by-minor-quantity",Me="sort-omnilife-orders-by-highest-quantity",ze="sort-omnilife-orders-by-desc-createdAt",He="sort-omnilife-orders-by-asc-createdAt",Je="sort-omnilife-products-by-asc-name",Qe="sort-omnilife-products-by-desc-name",We="sort-omnilife-products-by-highest-stock",Ge="sort-omnilife-products-by-minor-stock",Ve="sort-omnilife-products-by-desc-createdAt",Ke="sort-omnilife-products-by-asc-createdAt",Ye="sort-omnilife-products-by-desc-updatedAt",$e="sort-omnilife-products-by-asc-updatedAt",Xe=Symbol("SAVE_USERS_FILTERS"),et=Symbol("SAVE_DELETED_USERS_FILTERS"),tt=Symbol("SAVE_SEYTU_EXTRA_FILTERS"),rt=Symbol("SAVE_OMNILIFE_EXTRA_FILTERS")},423:(e,t,r)=>{r.d(t,{q6:()=>g,ow:()=>v,Qv:()=>O,yK:()=>b,$G:()=>P,eK:()=>w,hv:()=>E,p6:()=>S,BR:()=>k,SS:()=>A,WO:()=>T,PJ:()=>x,Pc:()=>_,pz:()=>I,td:()=>D,vP:()=>U,a4:()=>Z,II:()=>L,iz:()=>B,Vh:()=>N});var n=r(7294),a=r(3311),o=r.n(a),s=r(7614),i=r(5026),u=r(7814),c=r(8798),l=r(3281),d=r(7294);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=new(o()),y=s.Z.confirm,h=s.Z.destroyAll;function g(e){return p.LZString.compress(e)}function v(e){return p.LZString.decompress(e)}function b(e,t){return e.map((function(e){return(0,l.mf)(t)?t(e):e}))}function P(e,t){var r=void 0===t?100:t;return e&&e.length>r?e.substring(0,r)+"...":e}function O(e){var t=e.data,r=e.skip,n=e.limit;if((0,l.kJ)(t))return t.map((function(e,t){var a=0===r?t+1:n*r-(n-(t+1));return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}({key:e._id,index:a},e)}))}function w(e){for(var t=e.objects,r=e.state,n={seytu:{},omnilife:{}},a=0;a<t.length;a++){var o=t[a],s=o.value,i=o.name;i||s?Object.assign(n,m({},i,r(s))):Object.assign(n,m({},o,r(o)))}return n}function E(e){for(var t=e.objects,r=e.methods,n={},a=0;a<t.length;a++){var o=t[a];Object.assign(n,m({},o,r(o)))}return n}function S(e){return c.Z.formatDate({date:e,format:"DD [de] MMMM [del] YYYY [a las] h:mm a"}).replace(/m$/gim,".m.")}function k(e){var t=e.data,r=e.onDataItem,n=e.onDataMultipleItems,a=e.emptyMessage;(0,l.yD)(t)?(0,l.HD)(a)&&i.ZP.warning(a):(0,l.kJ)(t)&&1===t.length?(0,l.mf)(r)&&r(t[0]):(0,l.mf)(n)&&n(t)}function A(e){var t="dark"===e.theme,r=e.title,a=e.description,o=e.confirmButtonTitle,s=e.confirmButtonIcon,i=e.onCancel,c=e.onSuccess;y({className:"delete-user-modal ".concat(t?"dark-mode":"light-mode"),title:r,icon:d.createElement(u.G,{size:"2x",icon:"exclamation-circle",style:{marginBottom:5},color:t?"var(--bg-darkyellow)":"var(--bg-red)"}),content:a,okText:d.createElement(n.Fragment,null,d.createElement(u.G,{icon:s}),d.createElement("span",{style:{marginLeft:6}},o)),okType:"danger",cancelText:d.createElement(n.Fragment,null,d.createElement(u.G,{icon:"times"}),d.createElement("span",{style:{marginLeft:6}},"Cancelar")),okButtonProps:{className:"scale-button"},cancelButtonProps:{className:"scale-button"},centered:!0,closable:!0,confirmLoading:!1,closeIcon:d.createElement(u.G,{icon:"times",color:t?"rgba(255, 255, 255, .5)":"rgba(0, 0, 0, .5)"}),onCancel:i,onOk:function(){return c(h)},maskStyle:{backgroundColor:"rgba(0, 0, 0, .75)"}})}function T(e){var t=e.items,r=e.apiItems,n=e.onExistApiItems,a=e.showLoading,o=e.hideLoading,s=e.secondsToHideLoading,i=void 0===s?3e3:s;(0,l.yD)(r)?o():((0,l.mf)(n)&&n(),(0,l.yD)(t)?(a(),setTimeout(o,i)):o())}function x(e,t,r){if(t&&(0,l.Kn)(e)){for(var n=0,a=null,o=t.split(".");n<o.length-1;n++){a!==o[n]&&(a=o[n]);var s=e[a];if(!s)break;e=s}return r?e:e[o[n]]}}function _(e){return Array.from(Array(e).map((function(e,t){return t})))}function I(e){return new Promise((function(t,r){var n=new Image;n.onload=function(){return t({width:n.width,height:n.height})},n.onerror=r,n.src=e}))}function D(e,t){var r=void 0===t?2:t;if(0===e)return"0 Bytes";var n=r<0?0:r,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}function U(e){if(l.Kn)return JSON.stringify(e).replace(/"([^"]+)":/g,"$1:")}function Z(e){for(var t=[],r=0;r<e.length;r++){var n,a=e[r],o=a.clientId,s=a.clientName,i=a.clientPhone,u=a.clientProduct,c=u.status,l=u.product,d=u.totalUnits,m=u.creationDate;t.push({key:o+"-"+r,clientId:o,clientName:s,clientPhone:i,status:c,quantity:d,createdAt:m,product:{_id:l._id,name:l.name,price:l.price,defaultImage:{url:null==l||null===(n=l.defaultImage)||void 0===n?void 0:n.url}}})}return t}function L(e){if(e&&(0,l.HD)(e))return e.replace(/\s+/gim,"-").toLowerCase()}function B(e,t){if((0,l.kJ)(e)&&(0,l.Kn)(t)){var r=[],n=Object.keys(t),a=!0,o=!1,s=void 0;try{for(var i,u=function(n,a){var o,s=a.value,i=e.filter((function(e){return e[s]!==t[s]}));(0,l.yD)(i)||(o=r).push.apply(o,f(i))},c=n[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)u(0,i)}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return r}}function N(e,t){for(var r=function(t){var r=e[t];if(!r)return"continue";if((0,l.Kn)(r)){if(s.every((function(e){return JSON.stringify(r[e])===JSON.stringify(a[e])})))return(0,l.mf)(o)?(n[t]=o(r),"continue"):(n[t]=o,"continue");n[t]=r}},n=[],a=t.filter,o=t.newData,s=Object.keys(a),i=0;i<e.length;i++)r(i);return n}},3281:(e,t,r)=>{r.d(t,{HD:()=>a,ke:()=>o,mf:()=>i,kJ:()=>u,yD:()=>c,Kn:()=>l,Qr:()=>d,T1:()=>f,Jh:()=>p,jv:()=>y,De:()=>h,Hm:()=>g});var n=r(5026);function a(e){return"string"==typeof e}function o(e){return"string"==typeof e&&0===e.length}function s(e){return"number"==typeof e}function i(e){return"function"==typeof e}function u(e){return Array.isArray(e)}function c(e){return u(e)&&0===e.length}function l(e){return"object"==typeof e}function d(e){return e&&l(e)&&0===Object.keys(e).length}function m(e){var t=e.value,r=e.min;return(a(t)||u(t))&&s(r)&&t.length<r}function f(e){var t=e.value,r=e.max;return a(t)&&s(r)&&t.length>r}function p(e){return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function y(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}function h(e){var t={},r=m({value:e.value,min:e.min.limit}),n=f({value:e.value,max:e.max.limit});if(!e.value||c(e.value))e.required&&(t[e.name]=e.required),"email"===e.name&&(t[e.name]=e.required||"Por favor ingresa un correo electrónico");else if(r){if(e.min.limit){var a="Debe tener un mínimo de ".concat(e.min.limit," cáracteres");t[e.name]=e.min.message||a}}else if(n){if(e.max.limit){var o="Se ha excedido la longitud máxima de ".concat(e.max.limit," cáracteres");t[e.name]=e.max.message||o}}else e.isEmail?p(e.value)||(t[e.name]="Ingresa un correo electrónico válido"):e.isMatchPassword&&e.value!==e.isMatchPassword.value&&(t[e.name]="Ambas contraseñas no coinciden");return t}function g(e){var t=e.value,r=e.onValidCategory;null===t?n.ZP.warning("Proceso cancelado",3):o(t)?n.ZP.warning("No se ha establecido el nombre de la categoría",3):m({value:t,min:4})?n.ZP.warning("El nombre de la categoría es muy corto",2):f({value:t,max:24})?n.ZP.warning("El nombre de la categoría es muy largo",2):/^[a-zA-Z0-9\u00C0-\u024F -]*$/gim.test(t)?i(r)&&r():n.ZP.warning("El nombre de la categoría no es válido",2)}},8798:(e,t,r)=>{r.d(t,{Z:()=>l,p:()=>c});var n=r(7484),a=r.n(n),o=r(660),s=r.n(o),i=r(6176),u=r.n(i);function c(e){var t=e.date,r=e.format;return a()(t).locale("en").format(r)}a().extend(s()),a().updateLocale("en",{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}),a().extend(u()),Object.assign(a(),{formatDate:c});const l=a()},2849:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"static/media/ca1baac1.webp"}},e=>{e.O(0,[532,545],(()=>{return t=4635,e(e.s=t);var t}));e.O()}]);