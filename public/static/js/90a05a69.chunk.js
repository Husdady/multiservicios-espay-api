"use strict";(self.webpackChunkemprendimiento_y_salud_api=self.webpackChunkemprendimiento_y_salud_api||[]).push([[504],{5429:(e,t,r)=>{r.d(t,{Dx:()=>U,k4:()=>C,jj:()=>S,ZP:()=>x});var n=r(7294),o=r(7249),i=r(8216),a=r(5977),s=r(7814),l=r(7578),u=r(7294);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function y(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?c(e):t}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}var k=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},w=r(2849).Z,E=function(e){function t(e){var r;return d(this,t),(r=y(this,v(t).call(this,e))).helpStyles=O.help({placement:r.props.settings.help.placement}),r.goToPath=r.goToPath.bind(c(r)),r.renderHelpIcon=r.renderHelpIcon.bind(c(r)),r}return b(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return e.existUserAdmin!==this.props.existUserAdmin}},{key:"goToPath",value:function(){if(this.props.existUserAdmin)window.location="https://emprendimientoysalud.com";else{var e=this.props.settings;this.props.history.push(e.arrow.link)}}},{key:"renderHelpIcon",value:function(){var e,t,r;if(null===(e=this.props)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.help)return u.createElement(o.WW,{style:this.helpStyles,title:null===(r=this.props.settings.help)||void 0===r?void 0:r.title,textColor:"var(--bg-white)",backgroundColor:"var(--bg-dark)",tooltipSettings:{placement:"bottom"}})}},{key:"render",value:function(){var e="left"===this.props.settings.arrow.placement,t=this.props,r=t.title,n=t.containerStyle,i=t.wrapperStyle,a=t.settings;return u.createElement("div",{id:"auth-container",style:n,className:this.props.className},u.createElement("div",{style:i,className:"wrapper animate__animated animate__bounceInUp"},this.renderHelpIcon(),u.createElement(o.JO,{size:"2x",width:50,height:50,onClick:this.goToPath,color:"var(--bg-darkrose)",title:a.arrow.title,name:e?"arrow-circle-left":"arrow-circle-right",className:"back-to-home pointer full-rounded ".concat(e?"to-left":"to-right")}),u.createElement("img",{className:"logo",src:w,width:"105",height:"105"}),u.createElement("h2",{className:"title"},r),this.props.children))}}]),t}(n.Component);h(E,"defaultProps",{containerStyle:{},wrapperStyle:{},settings:{}});const x=(0,i.$j)(l.y0)((0,a.EN)(E));var U=function(e){function t(){return d(this,t),y(this,v(t).apply(this,arguments))}return b(t,e),p(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.iconName,r=e.iconColor,n=e.children;return u.createElement("div",{className:"flex align-items-center",style:O.title},u.createElement(s.G,{icon:t,color:r}),u.createElement("h3",{className:"subtitle"},n))}}]),t}(n.Component);h(U,"defaultProps",{iconColor:"#000"});var C=function(e){function t(e){var r;return d(this,t),(r=y(this,v(t).call(this,e))).submit=(0,n.createRef)(),r.showLoading=r.showLoading.bind(c(r)),r.hideLoading=r.hideLoading.bind(c(r)),r}return b(t,e),p(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"showLoading",value:function(){this.submit.current.showLoading()}},{key:"hideLoading",value:function(){this.submit.current.hideLoading()}},{key:"render",value:function(){return u.createElement(o.zx,f({},this.props,{ref:this.submit,className:"submit",attributes:{type:"submit"}}),"Entrar")}}]),t}(n.Component),S=function(e){function t(){return d(this,t),y(this,v(t).apply(this,arguments))}return b(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.title!==e.title}},{key:"render",value:function(){var e=O.error.text(this.props.color);return u.createElement("span",{className:"error-message d-flex align-items-center",style:O.error.container},u.createElement(s.G,{icon:"exclamation-circle",color:this.props.color}),u.createElement("span",{style:e},this.props.title))}}]),t}(n.Component);h(S,"defaultProps",{color:"var(--bg-darkyellow)"});var O={help:function(e){var t=e.placement,r={position:"absolute",top:20,color:"#000"};return"left"===t?r.left=20:"right"===t&&(r.right=20),r},title:{marginTop:15},error:{container:{marginTop:7},text:function(e){return{marginLeft:6,color:e,lineHeight:1.3}}}}},9504:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var n=r(5666),o=r.n(n),i=r(7294),a=r(7249),s=r(5429),l=r(8216),u=r(3727),c=r(7814),d=r(423),m=r(2250),p=r(7294);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},k=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?h(e):t}(this,b(t).call(this,e))).styles={loading:{style:{color:"var(--bg-white)"}},submit:{margin:"25px 0 15px"},checkbox:{marginBottom:8},wrap:{textAlign:"center",justifyContent:"center"},links:{width:"100%"}},r.loginSchema={email:{required:"Por favor ingresa tu correo electrónico",min:6,max:36,isEmail:!0},password:{required:"Por favor ingresa tu contraseña"}},r.defaultLoginValues={email:"",password:"",rememberUser:!1},r.authLinks=[{id:"k129ua",path:"/a",title:"¿Olvidaste tu contraseña?"},{id:"xgj0pe",path:"/a",title:"¿Olvidaste tu correo electrónico?"},{id:"d3gfh2",path:"/",title:"¿Aún no tienes una cuenta?"}],r.authSettings={help:{title:"Inicia sesión en Emprendimiento y Salud, cuando logres iniciar sesión, serás redireccionado al Dashboard, dónde podrás administrar la página.",placement:"right"},arrow:{title:r.props.existUserAdmin?"Ir a Emprendimiento y Salud":"Ir a Registro de cuenta",link:"/auth?register=true",placement:"left"}},r.submit=(0,i.createRef)(),r.goToHome=r.goToHome.bind(h(r)),r.handleSubmit=r.handleSubmit.bind(h(r)),r.rememberUser=r.rememberUser.bind(h(r)),r.renderError=r.renderError.bind(h(r)),r.renderCheckbox=r.renderCheckbox.bind(h(r)),r.renderAuthLinks=r.renderAuthLinks.bind(h(r)),r.renderGoToHome=r.renderGoToHome.bind(h(r)),r}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){document.title="Inicio de sesión | Emprendimiento y Salud"}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"goToHome",value:function(){window.location="https://emprendimientoysalud.com/"}},{key:"rememberUser",value:function(e){var t=e.status,r=e.email,n=e.password;"checked"===t?this.props.rememberUser({userEmail:r,userPassword:n}):"unchecked"===t&&this.props.forgetUser()}},{key:"handleSubmit",value:function(e){var t,r=e.values;return(t=o().mark((function e(){var t,n,i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.props.signIn(r,{showLoading:null===(t=this)||void 0===t||null===(n=t.submit)||void 0===n||null===(i=n.current)||void 0===i?void 0:i.showLoading,hideLoading:null===(a=this)||void 0===a||null===(s=a.submit)||void 0===s||null===(l=s.current)||void 0===l?void 0:l.hideLoading});case 3:case"end":return e.stop()}}),e,this)})).bind(this),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){f(i,n,o,a,s,"next",e)}function s(e){f(i,n,o,a,s,"throw",e)}a(void 0)}))})()}},{key:"renderCheckbox",value:function(e){var t=e.values,r=e.setFieldValue,n=e.isValidForm,o=this;if(this.props.existUserAdmin)return p.createElement(a.XZ,{style:this.styles.checkbox,checked:t.rememberUser,needRenderAgain:n,title:"Recordar datos de inicio de sesión",onCheck:function(){n&&o.rememberUser({email:t.email,password:t.password,status:t.rememberUser?"unchecked":"checked"}),r("rememberUser",!t.rememberUser)}})}},{key:"renderAuthLinks",value:function(){return this.authLinks.map((function(e){return p.createElement(u.rU,{key:e.id,to:e.path,className:"link"},p.createElement("u",null,e.title))}))}},{key:"renderGoToHome",value:function(){if(!this.props.existUserAdmin)return p.createElement("div",{className:"go-to-home"},p.createElement(c.G,{className:"pointer",icon:"door-open",size:"2x",onClick:this.goToHome}),p.createElement("span",{className:"text pointer",onClick:this.goToHome},"Volver al inicio"))}},{key:"renderError",value:function(e){if(e)return p.createElement(s.jj,{title:e,color:"var(--bg-darkrose)"})}},{key:"render",value:function(){var e=this,t=this.props,r=t.userSaved,n=t.existUserAdmin,o=t.rememberUserData;return n&&this.authLinks.pop(),o&&(this.defaultLoginValues={email:r.email,password:r.password,rememberUser:o}),p.createElement(s.ZP,{settings:this.authSettings,className:"d-flex j-center align-items-center",title:"Inicia de sesión en emprendimiento-y-salud.com"},p.createElement(a.l0,{validateOnChange:!1,onSubmit:this.handleSubmit,validationSchema:this.loginSchema,initialValues:this.defaultLoginValues},(function(t){var r=t.values,o=t.setFieldValue,l=t.errors,u=t.isValidForm;return p.createElement(i.Fragment,null,p.createElement(s.Dx,{iconName:"envelope"},"Correo electrónico"),p.createElement(a.GT,{value:r.email,className:"form-control",onChange:function(e){return o("email",e.target.value)}}),e.renderError(l.email),p.createElement(s.Dx,{iconName:"unlock-alt"},"Contraseña"),p.createElement(a.ro,{value:r.password,className:"form-control",onChange:function(e){return o("password",e.target.value)}}),e.renderError(l.password),p.createElement(s.k4,{title:"Entrar",ref:e.submit,loading:e.styles.loading,style:n?e.styles.submit:null}),e.renderCheckbox({values:r,setFieldValue:o,isValidForm:u}))})),p.createElement("div",{className:"wrap",style:this.props.existUserAdmin?this.styles.wrap:null},p.createElement("div",{className:"links",style:this.props.existUserAdmin?this.styles.links:null},this.renderAuthLinks()),this.renderGoToHome()))}}],n&&v(r.prototype,n),l&&v(r,l),t}(i.Component);const w=(0,l.$j)((function(e){var t=e.userLogin,r=e.existUserAdmin,n=(0,m.y0)({userLogin:t});return{userSaved:n.userSaved,rememberUserData:n.rememberUser,existUserAdmin:JSON.parse((0,d.ow)(r))}}),m.IW)(k)}}]);